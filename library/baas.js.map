{"version":3,"sources":["webpack:///webpack/bootstrap 2d55117864740a712d2d","webpack:///./distribution/client.js","webpack:///./distribution/auth.js","webpack:///./distribution/common.js","webpack:///./~/js-base64/base64.js","webpack:///./~/buffer/index.js","webpack:///./~/base64-js/index.js","webpack:///./~/ieee754/index.js","webpack:///./~/isarray/index.js","webpack:///./~/text-encoding-utf-8/lib/encoding.cjs.js","webpack:///./~/isomorphic-fetch/fetch-npm-browserify.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./~/mongodb-extjson/index.js","webpack:///./~/mongodb-extjson/lib/ext_json.js","webpack:///./~/mongodb-extjson/lib/bson/index.js","webpack:///./~/mongodb-extjson/lib/bson/binary.js","webpack:///./~/mongodb-extjson/lib/bson/shared.js","webpack:///./~/mongodb-extjson/lib/bson/code.js","webpack:///./~/mongodb-extjson/lib/bson/db_ref.js","webpack:///./~/mongodb-extjson/lib/bson/decimal128.js","webpack:///./~/mongodb-extjson/lib/bson/long.js","webpack:///./~/mongodb-extjson/lib/bson/double.js","webpack:///./~/mongodb-extjson/lib/bson/int_32.js","webpack:///./~/mongodb-extjson/lib/bson/max_key.js","webpack:///./~/mongodb-extjson/lib/bson/min_key.js","webpack:///./~/mongodb-extjson/lib/bson/objectid.js","webpack:///./~/process/browser.js","webpack:///./~/mongodb-extjson/lib/bson/regexp.js","webpack:///./~/mongodb-extjson/lib/bson/symbol.js","webpack:///./~/mongodb-extjson/lib/bson/timestamp.js"],"names":["Object","defineProperty","exports","value","Admin","MongoClient","BaasClient","ErrInvalidSession","ErrAuthProviderNotFound","undefined","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_auth","require","_auth2","_interopRequireDefault","_common","common","_interopRequireWildcard","_textEncodingUtf","textEncodingPolyfill","__esModule","newObj","hasOwnProperty","call","default","_classCallCheck","instance","TypeError","EJSON","TextDecoder","window","TextEncoder","toQueryString","parts","push","encodeURIComponent","join","clientAppID","options","baseUrl","DEFAULT_BAAS_SERVER_URL","appUrl","authUrl","authManager","handleRedirect","authWithOAuth","providerName","redirectUrl","location","replace","getOAuthLoginURL","authedId","auth","get","authError","error","logout","_this","_doAuthed","refreshOnFailure","useRefreshToken","then","data","clear","_do","resource","method","url","init","headers","JSONTYPE","body","queryParams","fetch","response","status","Promise","resolve","json","BaasError","Error","statusText","_this2","reject","token","getRefreshToken","_error","_refreshToken","_this3","isImpersonatingUser","refreshImpersonation","setAccessToken","executePipeline","stages","responseDecoder","d","parse","strict","responseEncoder","stringify","decoder","encoder","arrayBuffer","buffer","buf","decode","DB","client","service","name","getCollection","Collection","db","getBaseArgs","deleteOne","query","args","singleDoc","deleteMany","find","project","insert","docs","toInsert","Array","from","arguments","makeUpdateStage","update","upsert","multi","updateOne","updateMany","baasClient","serviceName","getDb","_get","_put","_delete","_post","JSON","profile","_this4","root","keys","list","create","apiKey","keyId","remove","enable","disable","apps","_this5","app","appID","users","filter","user","uid","sandbox","userId","user_id","authProviders","provider","authType","authName","variables","variable","varName","logs","apiKeys","services","svc","setConfig","rules","rule","ruleId","triggers","trigger","triggerId","_admin","_this6","_isImpersonatingUser","_startImpersonation","startImpersonation","_stopImpersonation","stopImpersonation","_jsBase","AuthDataStorage","_data","setItem","id","val","String","getItem","removeItem","Auth","rootUrl","localStorage","authDataStorage","pageRootUrl","protocol","host","pathname","currAuth","REFRESH_TOKEN_KEY","set","ourState","STATE_KEY","redirectFragment","hash","substring","redirectState","parseRedirectFragment","lastError","console","history","replaceState","found","stateValid","ua","state","generateState","result","encodeURI","anonymousAuth","cors","checkStatus","apiKeyAuth","localAuth","username","password","USER_AUTH_KEY","clearImpersonation","rt","c","Base64","encode","item","_id","IMPERSONATION_ACTIVE_KEY","IMPERSONATION_USER_KEY","catch","e","realUserAuth","IMPERSONATION_REAL_USER_AUTH_KEY","alpha","stateLength","pos","Math","floor","random","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","BAAS_ERROR_KEY","BAAS_LINK_KEY","fragment","vars","split","shouldBreak","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","next","done","pair","pairParts","pairKey","decodeURIComponent","atob","theirState","err","return","_Error","message","code","getPrototypeOf","captureStackTrace","stack","global","_Base64","version","module","Buffer","b64chars","b64tab","bin","t","l","charAt","fromCharCode","cb_utob","cc","charCodeAt","re_utob","utob","u","cb_encode","ccc","padlen","ord","chars","btoa","b","_encode","toString","urisafe","m0","re_btou","RegExp","cb_btou","cccc","cp","offset","btou","cb_decode","len","n","a","_decode","noConflict","VERSION","fromBase64","toBase64","noEnum","v","extendString","base64","ieee754","isArray","SlowBuffer","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","typedArraySupport","kMaxLength","arr","Uint8Array","foo","subarray","byteLength","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","poolSize","_augment","ArrayBuffer","fromArrayBuffer","fromString","fromObject","species","assertSize","size","alloc","fill","encoding","checked","allocUnsafeSlow","string","isEncoding","actual","write","slice","fromArrayLike","array","byteOffset","isBuffer","copy","isnan","type","_isBuffer","compare","x","y","min","toLowerCase","concat","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","swap16","swap32","swap64","apply","equals","inspect","str","max","match","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","j","includes","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","fromByteArray","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","toHex","bytes","newBuf","sliceLen","checkOffset","ext","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","Infinity","leadSurrogate","byteArray","hi","lo","toByteArray","src","dst","lookup","revLookup","Arr","placeHoldersCount","b64","tmp","placeHolders","L","tripletToBase64","num","encodeChunk","uint8","output","extraBytes","maxChunkLength","len2","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","NaN","abs","log","LN2","inRange","ToDictionary","o","stringToCodePoints","codePointsToString","code_points","end_of_stream","Stream","tokens","endOfStream","shift","prepend","unshift","pop","finished","decoderError","fatal","opt_code_point","DEFAULT_ENCODING","_streaming","_BOMseen","_decoder","_fatal","Boolean","_ignoreBOM","input","UTF8Decoder","input_stream","handler","_encoder","_options","opt_string","UTF8Encoder","utf8_code_point","utf8_bytes_seen","utf8_bytes_needed","utf8_lower_boundary","utf8_upper_boundary","stream","bite","code_point","count","temp","bind","support","searchParams","iterable","blob","Blob","formData","viewClasses","isDataView","DataView","isPrototypeOf","isArrayBufferView","normalizeName","test","normalizeValue","iteratorFor","items","Headers","map","forEach","append","getOwnPropertyNames","oldValue","has","callback","thisArg","values","entries","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","view","bufferClone","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","text","methods","normalizeMethod","upcased","toUpperCase","Request","credentials","mode","referrer","clone","form","parseHeaders","rawHeaders","line","Response","bodyInit","ok","redirectStatuses","redirect","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","ExtJSON","BSON","bsonModule","BSONTypes","bson","extend","deseralizeValue","ObjectID","Date","Long","date","setTime","toNumber","Binary","MaxKey","MinKey","Code","Double","parseFloat","Int32","Decimal128","BSONRegExp","DBRef","Timestamp","JS_INT_MIN","JS_INT_MAX","BSON_INT32_MIN","BSON_INT32_MAX","fromNumber","object","reducer","indents","doc","serializeArray","serializeDocument","_array","serializeValue","$date","$numberLong","getTime","$numberInt","$numberDouble","_doc","_bsontype","convert","integer","subType","sub_type","position","BSON_BINARY_SUBTYPE_DEFAULT","writeStringToArray","BUFFER_SIZE","put","byte_value","decoded_byte","asRaw","convertArraytoUtf8BinaryString","binary","$binary","$type","format","startIndex","endIndex","SUBTYPE_DEFAULT","SUBTYPE_FUNCTION","SUBTYPE_BYTE_ARRAY","SUBTYPE_UUID_OLD","SUBTYPE_UUID","SUBTYPE_MD5","SUBTYPE_USER_DEFINED","block","charCode","idx","InvalidCharacterError","bc","bs","scope","$code","$scope","namespace","oid","PARSE_STRING_REGEXP","PARSE_INF_REGEXP","PARSE_NAN_REGEXP","EXPONENT_MAX","EXPONENT_MIN","EXPONENT_BIAS","MAX_DIGITS","NAN_BUFFER","reverse","INF_NEGATIVE_BUFFER","INF_POSITIVE_BUFFER","EXPONENT_REGEX","COMBINATION_MASK","EXPONENT_MASK","COMBINATION_INFINITY","COMBINATION_NAN","COMBINATION_SNAN","isDigit","divideu128","DIVISOR","_rem","quotient","rem","shiftLeft","add","div","low_","modulo","multiply64x2","left","right","high","low","leftHigh","shiftRightUnsigned","leftLow","getLowBits","rightHigh","rightLow","productHigh","multiply","productMid","productMid2","productLow","lessThan","uhleft","high_","uhright","ulleft","ulright","longtoHex","index","int32toHex","isNegative","sawRadix","foundNonZero","significantDigits","nDigitsRead","nDigits","radixPosition","firstNonZero","digits","nDigitsStored","digitsInsert","firstDigit","lastDigit","exponent","significandHigh","significandLow","biasedExponent","stringMatch","infMatch","nanMatch","digitsString","endOfString","roundDigit","roundBit","dIdx","significand","dec","and","or","midh","midl","combination","biased_exponent","significand_digits","scientific_exponent","is_zero","significand_msb","significand128","k","ZERO","least_digits","radix_position","toInt","TWO_PWR_32_DBL_","getLowBitsUnsigned","opt_radix","radix","isZero","MIN_VALUE","radixLong","subtract","negate","radixToPower","remDiv","intval","getHighBits","getNumBitsAbs","bit","isOdd","other","notEquals","lessThanOrEqual","greaterThan","greaterThanOrEqual","thisNeg","otherNeg","not","ONE","a48","a32","a16","a00","b48","b32","b16","b00","c48","c32","c16","c00","fromBits","TWO_PWR_24_","NEG_ONE","halfThis","shiftRight","approx","log2","ceil","delta","approxRes","approxRem","xor","numBits","fromInt","cachedObj","INT_CACHE_","TWO_PWR_63_DBL_","MAX_VALUE","lowBits","highBits","power","TWO_PWR_16_DBL_","TWO_PWR_24_DBL_","TWO_PWR_31_DBL_","TWO_PWR_48_DBL_","TWO_PWR_64_DBL_","valueOf","$maxKey","$minKey","MACHINE_ID","checkForHexRegExp","hexTable","encodeLookup","decodeLookup","convertToHex","hexString","__id","valid","isValid","createFromHexString","generate","toHexString","cacheHexString","getInc","time","now","pid","process","inc","$oid","otherId","getTimestamp","timestamp","sizeof","createPk","createFromTime","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","title","browser","env","argv","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask","pattern","$regex","$options","$symbol","$timestamp"],"mappings":"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","file":"baas.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2d55117864740a712d2d","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Admin = exports.MongoClient = exports.BaasClient = exports.ErrInvalidSession = exports.ErrAuthProviderNotFound = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _auth = require('./auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _common = require('./common');\n\nvar common = _interopRequireWildcard(_common);\n\nvar _textEncodingUtf = require('text-encoding-utf-8');\n\nvar textEncodingPolyfill = _interopRequireWildcard(_textEncodingUtf);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nrequire('isomorphic-fetch');\n\n// TextEncoder polyfill\n\nvar ErrAuthProviderNotFound = exports.ErrAuthProviderNotFound = 'AuthProviderNotFound';\nvar ErrInvalidSession = exports.ErrInvalidSession = 'InvalidSession';\n\nvar EJSON = require('mongodb-extjson');\n\nvar TextDecoder = textEncodingPolyfill.TextDecoder;\nif (typeof window !== 'undefined' && window.TextEncoder !== undefined && window.TextDecoder !== undefined) {\n  TextDecoder = window.TextDecoder;\n}\n\nvar toQueryString = function toQueryString(obj) {\n  var parts = [];\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\n    }\n  }\n  return parts.join('&');\n};\n\nvar BaasClient = exports.BaasClient = function () {\n  function BaasClient(clientAppID, options) {\n    _classCallCheck(this, BaasClient);\n\n    var baseUrl = common.DEFAULT_BAAS_SERVER_URL;\n    if (options && options.baseUrl) {\n      baseUrl = options.baseUrl;\n    }\n    this.appUrl = baseUrl + '/admin/v1';\n    this.authUrl = baseUrl + '/admin/v1/auth';\n    if (clientAppID) {\n      this.appUrl = baseUrl + '/v1/app/' + clientAppID;\n      this.authUrl = this.appUrl + '/auth';\n    }\n    this.authManager = new _auth2.default(this.authUrl);\n    this.authManager.handleRedirect();\n  }\n\n  _createClass(BaasClient, [{\n    key: 'authWithOAuth',\n    value: function authWithOAuth(providerName, redirectUrl) {\n      window.location.replace(this.authManager.getOAuthLoginURL(providerName, redirectUrl));\n    }\n  }, {\n    key: 'authedId',\n    value: function authedId() {\n      return this.authManager.authedId();\n    }\n  }, {\n    key: 'auth',\n    value: function auth() {\n      return this.authManager.get();\n    }\n  }, {\n    key: 'authError',\n    value: function authError() {\n      return this.authManager.error();\n    }\n  }, {\n    key: 'logout',\n    value: function logout() {\n      var _this = this;\n\n      return this._doAuthed('/auth', 'DELETE', { refreshOnFailure: false, useRefreshToken: true }).then(function (data) {\n        _this.authManager.clear();\n      });\n    }\n\n    // wrapper around fetch() that matches the signature of doAuthed but does not\n    // actually use any auth. This is necessary for routes that must be\n    // accessible without logging in, like listing available auth providers.\n\n  }, {\n    key: '_do',\n    value: function _do(resource, method, options) {\n      options = options || {};\n      var url = '' + this.appUrl + resource;\n      var init = {\n        method: method,\n        headers: { 'Accept': common.JSONTYPE, 'Content-Type': common.JSONTYPE }\n      };\n      if (options.body) {\n        init['body'] = options.body;\n      }\n      if (options.queryParams) {\n        url = url + '?' + toQueryString(options.queryParams);\n      }\n\n      return fetch(url, init).then(function (response) {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        } else if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json().then(function (json) {\n            var error = new common.BaasError(json['error'], json['errorCode']);\n            error.response = response;\n            throw error;\n          });\n        }\n        var error = new Error(response.statusText);\n        error.response = response;\n        throw error;\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n  }, {\n    key: '_doAuthed',\n    value: function _doAuthed(resource, method, options) {\n      var _this2 = this;\n\n      if (options === undefined) {\n        options = { refreshOnFailure: true, useRefreshToken: false };\n      } else {\n        if (options.refreshOnFailure === undefined) {\n          options.refreshOnFailure = true;\n        }\n        if (options.useRefreshToken === undefined) {\n          options.useRefreshToken = false;\n        }\n      }\n\n      if (this.auth() === null) {\n        return Promise.reject(new common.BaasError('Must auth first'));\n      }\n\n      var url = '' + this.appUrl + resource;\n\n      var headers = {\n        'Accept': common.JSONTYPE,\n        'Content-Type': common.JSONTYPE\n      };\n      var token = options.useRefreshToken ? this.authManager.getRefreshToken() : this.auth()['accessToken'];\n      headers['Authorization'] = 'Bearer ' + token;\n\n      var init = {\n        method: method,\n        headers: headers\n      };\n\n      if (options.body) {\n        init['body'] = options.body;\n      }\n\n      if (options.queryParams) {\n        url = url + '?' + toQueryString(options.queryParams);\n      }\n\n      return fetch(url, init).then(function (response) {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        } else if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json().then(function (json) {\n            // Only want to try refreshing token when there's an invalid session\n            if ('errorCode' in json && json['errorCode'] === ErrInvalidSession) {\n              if (!options.refreshOnFailure) {\n                _this2.authManager.clear();\n                var _error = new common.BaasError(json['error'], json['errorCode']);\n                _error.response = response;\n                throw _error;\n              }\n\n              return _this2._refreshToken().then(function () {\n                options.refreshOnFailure = false;\n                return _this2._doAuthed(resource, method, options);\n              });\n            }\n\n            var error = new common.BaasError(json['error'], json['errorCode']);\n            error.response = response;\n            throw error;\n          });\n        }\n\n        var error = new Error(response.statusText);\n        error.response = response;\n        throw error;\n      });\n    }\n  }, {\n    key: '_refreshToken',\n    value: function _refreshToken() {\n      var _this3 = this;\n\n      if (this.authManager.isImpersonatingUser()) {\n        return this.authManager.refreshImpersonation(this);\n      }\n      return this._doAuthed('/auth/newAccessToken', 'POST', { refreshOnFailure: false, useRefreshToken: true }).then(function (response) {\n        return response.json().then(function (json) {\n          _this3.authManager.setAccessToken(json['accessToken']);\n          return Promise.resolve();\n        });\n      });\n    }\n  }, {\n    key: 'executePipeline',\n    value: function executePipeline(stages, options) {\n      var responseDecoder = function responseDecoder(d) {\n        return new EJSON().parse(d, { strict: false });\n      };\n      var responseEncoder = function responseEncoder(d) {\n        return new EJSON().stringify(d);\n      };\n      if (options) {\n        if (options.decoder) {\n          if (typeof options.decoder !== 'function') {\n            throw new Error('decoder option must be a function, but \"' + _typeof(options.decoder) + '\" was provided');\n          }\n          responseDecoder = options.decoder;\n        }\n        if (options.encoder) {\n          if (typeof options.encoder !== 'function') {\n            throw new Error('encoder option must be a function, but \"' + _typeof(options.encoder) + '\" was provided');\n          }\n          responseEncoder = options.encoder;\n        }\n      }\n      return this._doAuthed('/pipeline', 'POST', { body: responseEncoder(stages) }).then(function (response) {\n        if (response.arrayBuffer) {\n          return response.arrayBuffer();\n        }\n        return response.buffer();\n      }).then(function (buf) {\n        return new TextDecoder('utf-8').decode(buf);\n      }).then(function (body) {\n        return responseDecoder(body);\n      });\n    }\n  }]);\n\n  return BaasClient;\n}();\n\nvar DB = function () {\n  function DB(client, service, name) {\n    _classCallCheck(this, DB);\n\n    this.client = client;\n    this.service = service;\n    this.name = name;\n  }\n\n  _createClass(DB, [{\n    key: 'getCollection',\n    value: function getCollection(name) {\n      return new Collection(this, name);\n    }\n  }]);\n\n  return DB;\n}();\n\nvar Collection = function () {\n  function Collection(db, name) {\n    _classCallCheck(this, Collection);\n\n    this.db = db;\n    this.name = name;\n  }\n\n  _createClass(Collection, [{\n    key: 'getBaseArgs',\n    value: function getBaseArgs() {\n      return {\n        'database': this.db.name,\n        'collection': this.name\n      };\n    }\n  }, {\n    key: 'deleteOne',\n    value: function deleteOne(query) {\n      var args = this.getBaseArgs();\n      args.query = query;\n      args.singleDoc = true;\n      return this.db.client.executePipeline([{\n        'service': this.db.service,\n        'action': 'delete',\n        'args': args\n      }]);\n    }\n  }, {\n    key: 'deleteMany',\n    value: function deleteMany(query) {\n      var args = this.getBaseArgs();\n      args.query = query;\n      args.singleDoc = false;\n      return this.db.client.executePipeline([{\n        'service': this.db.service,\n        'action': 'delete',\n        'args': args\n      }]);\n    }\n  }, {\n    key: 'find',\n    value: function find(query, project) {\n      var args = this.getBaseArgs();\n      args.query = query;\n      args.project = project;\n      return this.db.client.executePipeline([{\n        'service': this.db.service,\n        'action': 'find',\n        'args': args\n      }]);\n    }\n  }, {\n    key: 'insert',\n    value: function insert(docs) {\n      var toInsert = void 0;\n      if (docs instanceof Array) {\n        toInsert = docs;\n      } else {\n        toInsert = Array.from(arguments);\n      }\n\n      return this.db.client.executePipeline([{ 'action': 'literal',\n        'args': {\n          'items': toInsert\n        }\n      }, {\n        'service': this.db.service,\n        'action': 'insert',\n        'args': this.getBaseArgs()\n      }]);\n    }\n  }, {\n    key: 'makeUpdateStage',\n    value: function makeUpdateStage(query, update, upsert, multi) {\n      var args = this.getBaseArgs();\n      args.query = query;\n      args.update = update;\n      if (upsert) {\n        args.upsert = true;\n      }\n      if (multi) {\n        args.multi = true;\n      }\n\n      return {\n        'service': this.db.service,\n        'action': 'update',\n        'args': args\n      };\n    }\n  }, {\n    key: 'updateOne',\n    value: function updateOne(query, update) {\n      return this.db.client.executePipeline([this.makeUpdateStage(query, update, false, false)]);\n    }\n  }, {\n    key: 'updateMany',\n    value: function updateMany(query, update, upsert, multi) {\n      return this.db.client.executePipeline([this.makeUpdateStage(query, update, false, true)]);\n    }\n  }, {\n    key: 'upsert',\n    value: function upsert(query, update) {\n      return this.db.client.executePipeline([this.makeUpdateStage(query, update, true, false)]);\n    }\n  }]);\n\n  return Collection;\n}();\n\nvar MongoClient = exports.MongoClient = function () {\n  function MongoClient(baasClient, serviceName) {\n    _classCallCheck(this, MongoClient);\n\n    this.baasClient = baasClient;\n    this.service = serviceName;\n  }\n\n  _createClass(MongoClient, [{\n    key: 'getDb',\n    value: function getDb(name) {\n      return new DB(this.baasClient, this.service, name);\n    }\n  }]);\n\n  return MongoClient;\n}();\n\nvar Admin = exports.Admin = function () {\n  function Admin(baseUrl) {\n    _classCallCheck(this, Admin);\n\n    this.client = new BaasClient('', { baseUrl: baseUrl });\n  }\n\n  _createClass(Admin, [{\n    key: '_doAuthed',\n    value: function _doAuthed(url, method, options) {\n      return this.client._doAuthed(url, method, options).then(function (response) {\n        return response.json();\n      });\n    }\n  }, {\n    key: '_get',\n    value: function _get(url, queryParams) {\n      return this._doAuthed(url, 'GET', { queryParams: queryParams });\n    }\n  }, {\n    key: '_put',\n    value: function _put(url, queryParams) {\n      return this._doAuthed(url, 'PUT', { queryParams: queryParams });\n    }\n  }, {\n    key: '_delete',\n    value: function _delete(url) {\n      return this._doAuthed(url, 'DELETE');\n    }\n  }, {\n    key: '_post',\n    value: function _post(url, body) {\n      return this._doAuthed(url, 'POST', { body: JSON.stringify(body) });\n    }\n  }, {\n    key: 'profile',\n    value: function profile() {\n      var _this4 = this;\n\n      var root = this;\n      return {\n        keys: function keys() {\n          return {\n            list: function list() {\n              return root._get('/profile/keys');\n            },\n            create: function create(key) {\n              return root._post('/profile/keys');\n            },\n            apiKey: function apiKey(keyId) {\n              return {\n                get: function get() {\n                  return root._get('/profile/keys/' + keyId);\n                },\n                remove: function remove() {\n                  return _this4._delete('/profile/keys/' + keyId);\n                },\n                enable: function enable() {\n                  return root._put('/profile/keys/' + keyId + '/enable');\n                },\n                disable: function disable() {\n                  return root._put('/profile/keys/' + keyId + '/disable');\n                }\n              };\n            }\n          };\n        }\n      };\n    }\n\n    /* Examples of how to access admin API with this client:\n     *\n     * List all apps\n     *    a.apps().list()\n     *\n     * Fetch app under name 'planner'\n     *    a.apps().app('planner').get()\n     *\n     * List services under the app 'planner'\n     *    a.apps().app('planner').services().list()\n     *\n     * Delete a rule by ID\n     *    a.apps().app('planner').services().service('mdb1').rules().rule('580e6d055b199c221fcb821d').remove()\n     *\n     */\n\n  }, {\n    key: 'apps',\n    value: function apps() {\n      var _this5 = this;\n\n      var root = this;\n      return {\n        list: function list() {\n          return root._get('/apps');\n        },\n        create: function create(data) {\n          return root._post('/apps', data);\n        },\n        app: function app(appID) {\n          return {\n            get: function get() {\n              return root._get('/apps/' + appID);\n            },\n            remove: function remove() {\n              return root._delete('/apps/' + appID);\n            },\n\n            users: function users() {\n              return {\n                list: function list(filter) {\n                  return _this5._get('/apps/' + appID + '/users', filter);\n                },\n                user: function user(uid) {\n                  return {\n                    get: function get() {\n                      return _this5._get('/apps/' + appID + '/users/' + uid);\n                    },\n                    logout: function logout() {\n                      return _this5._put('/apps/' + appID + '/users/' + uid + '/logout');\n                    }\n                  };\n                }\n              };\n            },\n\n            sandbox: function sandbox() {\n              return {\n                executePipeline: function executePipeline(data, userId) {\n                  return _this5._doAuthed('/apps/' + appID + '/sandbox/pipeline', 'POST', { body: JSON.stringify(data), queryParams: { user_id: userId } });\n                }\n              };\n            },\n\n            authProviders: function authProviders() {\n              return {\n                create: function create(data) {\n                  return _this5._post('/apps/' + appID + '/authProviders', data);\n                },\n                list: function list() {\n                  return _this5._get('/apps/' + appID + '/authProviders');\n                },\n                provider: function provider(authType, authName) {\n                  return {\n                    get: function get() {\n                      return _this5._get('/apps/' + appID + '/authProviders/' + authType + '/' + authName);\n                    },\n                    remove: function remove() {\n                      return _this5._delete('/apps/' + appID + '/authProviders/' + authType + '/' + authName);\n                    },\n                    update: function update(data) {\n                      return _this5._post('/apps/' + appID + '/authProviders/' + authType + '/' + authName, data);\n                    }\n                  };\n                }\n              };\n            },\n            variables: function variables() {\n              return {\n                list: function list() {\n                  return _this5._get('/apps/' + appID + '/vars');\n                },\n                variable: function variable(varName) {\n                  return {\n                    get: function get() {\n                      return _this5._get('/apps/' + appID + '/vars/' + varName);\n                    },\n                    remove: function remove() {\n                      return _this5._delete('/apps/' + appID + '/vars/' + varName);\n                    },\n                    create: function create(data) {\n                      return _this5._post('/apps/' + appID + '/vars/' + varName, data);\n                    },\n                    update: function update(data) {\n                      return _this5._post('/apps/' + appID + '/vars/' + varName, data);\n                    }\n                  };\n                }\n              };\n            },\n            logs: function logs() {\n              return {\n                get: function get(filter) {\n                  return _this5._get('/apps/' + appID + '/logs', filter);\n                }\n              };\n            },\n            apiKeys: function apiKeys() {\n              return {\n                list: function list() {\n                  return _this5._get('/apps/' + appID + '/keys');\n                },\n                create: function create(data) {\n                  return _this5._post('/apps/' + appID + '/keys', data);\n                },\n                apiKey: function apiKey(key) {\n                  return {\n                    get: function get() {\n                      return _this5._get('/apps/' + appID + '/keys/' + key);\n                    },\n                    remove: function remove() {\n                      return _this5._delete('/apps/' + appID + '/keys/' + key);\n                    },\n                    enable: function enable() {\n                      return _this5._put('/apps/' + appID + '/keys/' + key + '/enable');\n                    },\n                    disable: function disable() {\n                      return _this5._put('/apps/' + appID + '/keys/' + key + '/disable');\n                    }\n                  };\n                }\n              };\n            },\n            services: function services() {\n              return {\n                list: function list() {\n                  return _this5._get('/apps/' + appID + '/services');\n                },\n                create: function create(data) {\n                  return _this5._post('/apps/' + appID + '/services', data);\n                },\n                service: function service(svc) {\n                  return {\n                    get: function get() {\n                      return _this5._get('/apps/' + appID + '/services/' + svc);\n                    },\n                    update: function update(data) {\n                      return _this5._post('/apps/' + appID + '/services/' + svc, data);\n                    },\n                    remove: function remove() {\n                      return _this5._delete('/apps/' + appID + '/services/' + svc);\n                    },\n                    setConfig: function setConfig(data) {\n                      return _this5._post('/apps/' + appID + '/services/' + svc + '/config', data);\n                    },\n\n                    rules: function rules() {\n                      return {\n                        list: function list() {\n                          return _this5._get('/apps/' + appID + '/services/' + svc + '/rules');\n                        },\n                        create: function create(data) {\n                          return _this5._post('/apps/' + appID + '/services/' + svc + '/rules');\n                        },\n                        rule: function rule(ruleId) {\n                          return {\n                            get: function get() {\n                              return _this5._get('/apps/' + appID + '/services/' + svc + '/rules/' + ruleId);\n                            },\n                            update: function update(data) {\n                              return _this5._post('/apps/' + appID + '/services/' + svc + '/rules/' + ruleId, data);\n                            },\n                            remove: function remove() {\n                              return _this5._delete('/apps/' + appID + '/services/' + svc + '/rules/' + ruleId);\n                            }\n                          };\n                        }\n                      };\n                    },\n\n                    triggers: function triggers() {\n                      return {\n                        list: function list() {\n                          return _this5._get('/apps/' + appID + '/services/' + svc + '/triggers');\n                        },\n                        create: function create(data) {\n                          return _this5._post('/apps/' + appID + '/services/' + svc + '/triggers');\n                        },\n                        trigger: function trigger(triggerId) {\n                          return {\n                            get: function get() {\n                              return _this5._get('/apps/' + appID + '/services/' + svc + '/triggers/' + triggerId);\n                            },\n                            update: function update(data) {\n                              return _this5._post('/apps/' + appID + '/services/' + svc + '/triggers/' + triggerId, data);\n                            },\n                            remove: function remove() {\n                              return _this5._delete('/apps/' + appID + '/services/' + svc + '/triggers/' + triggerId);\n                            }\n                          };\n                        }\n                      };\n                    }\n                  };\n                }\n              };\n            }\n          };\n        }\n      };\n    }\n  }, {\n    key: '_admin',\n    value: function _admin() {\n      var _this6 = this;\n\n      return {\n        logs: function logs() {\n          return {\n            get: function get(filter) {\n              return _this6._doAuthed('/admin/logs', 'GET', { useRefreshToken: true, queryParams: filter });\n            }\n          };\n        },\n        users: function users() {\n          return {\n            list: function list(filter) {\n              return _this6._doAuthed('/admin/users', 'GET', { useRefreshToken: true, queryParams: filter });\n            },\n            user: function user(uid) {\n              return {\n                logout: function logout() {\n                  return _this6._doAuthed('/admin/users/' + uid + '/logout', 'PUT', { useRefreshToken: true });\n                }\n              };\n            }\n          };\n        }\n      };\n    }\n  }, {\n    key: '_isImpersonatingUser',\n    value: function _isImpersonatingUser() {\n      return this.client.authManager.isImpersonatingUser();\n    }\n  }, {\n    key: '_startImpersonation',\n    value: function _startImpersonation(userId) {\n      return this.client.authManager.startImpersonation(this.client, userId);\n    }\n  }, {\n    key: '_stopImpersonation',\n    value: function _stopImpersonation() {\n      return this.client.authManager.stopImpersonation();\n    }\n  }]);\n\n  return Admin;\n}();\n\n\n// WEBPACK FOOTER //\n// ./distribution/client.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, fetch */\n\n/* let authDataStorage;\nif(window !== undefined && window.localStorage !== undefined){\n  authDataStorage = window.localStorage\n}\n\n*/\n\nvar _common = require('./common');\n\nvar common = _interopRequireWildcard(_common);\n\nvar _jsBase = require('js-base64');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AuthDataStorage = function () {\n  function AuthDataStorage() {\n    _classCallCheck(this, AuthDataStorage);\n\n    this._data = {};\n  }\n\n  _createClass(AuthDataStorage, [{\n    key: 'setItem',\n    value: function setItem(id, val) {\n      this._data[id] = String(val);\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem(id) {\n      return this._data.hasOwnProperty(id) ? this._data[id] : undefined;\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(id) {\n      return delete this._data[id];\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this._data = {};\n    }\n  }]);\n\n  return AuthDataStorage;\n}();\n\nvar Auth = function () {\n  function Auth(rootUrl) {\n    _classCallCheck(this, Auth);\n\n    this.rootUrl = rootUrl;\n    if (typeof window !== 'undefined' && window.localStorage !== undefined) {\n      this.authDataStorage = window.localStorage;\n    } else {\n      this.authDataStorage = new AuthDataStorage();\n    }\n  }\n\n  _createClass(Auth, [{\n    key: 'pageRootUrl',\n    value: function pageRootUrl() {\n      return [window.location.protocol, '//', window.location.host, window.location.pathname].join('');\n    }\n\n    // The state we generate is to be used for any kind of request where we will\n    // complete an authentication flow via a redirect. We store the generate in\n    // a local storage bound to the app's origin. This ensures that any time we\n    // receive a redirect, there must be a state parameter and it must match\n    // what we ourselves have generated. This state MUST only be sent to\n    // a trusted BaaS endpoint in order to preserve its integrity. BaaS will\n    // store it in some way on its origin (currently a cookie stored on this client)\n    // and use that state at the end of an auth flow as a parameter in the redirect URI.\n\n  }, {\n    key: 'setAccessToken',\n    value: function setAccessToken(token) {\n      var currAuth = this.get();\n      currAuth['accessToken'] = token;\n      currAuth['refreshToken'] = this.authDataStorage.getItem(common.REFRESH_TOKEN_KEY);\n      this.set(currAuth);\n    }\n  }, {\n    key: 'error',\n    value: function error() {\n      return this._error;\n    }\n  }, {\n    key: 'handleRedirect',\n    value: function handleRedirect() {\n      var ourState = this.authDataStorage.getItem(common.STATE_KEY);\n      if (typeof window === 'undefined') {\n        // This means we're running in some environment other\n        // than a browser - so handling a redirect makes no sense here.\n        return;\n      }\n      var redirectFragment = window.location.hash.substring(1);\n      var redirectState = common.parseRedirectFragment(redirectFragment, ourState);\n      if (redirectState.lastError) {\n        console.error('BaasClient: error from redirect: ' + redirectState.lastError);\n        this._error = redirectState.lastError;\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return;\n      }\n      if (!redirectState.found) {\n        return;\n      }\n      this.authDataStorage.removeItem(common.STATE_KEY);\n      if (!redirectState.stateValid) {\n        console.error('BaasClient: state values did not match!');\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return;\n      }\n      if (!redirectState.ua) {\n        console.error('BaasClient: no UA value was returned from redirect!');\n        return;\n      }\n      // If we get here, the state is valid - set auth appropriately.\n      this.set(redirectState.ua);\n      window.history.replaceState(null, '', this.pageRootUrl());\n    }\n  }, {\n    key: 'getOAuthLoginURL',\n    value: function getOAuthLoginURL(providerName, redirectUrl) {\n      if (redirectUrl === undefined) {\n        redirectUrl = this.pageRootUrl();\n      }\n      var state = Auth.generateState();\n      this.authDataStorage.setItem(common.STATE_KEY, state);\n      var result = this.rootUrl + '/oauth2/' + providerName + '?redirect=' + encodeURI(redirectUrl) + '&state=' + state;\n      return result;\n    }\n  }, {\n    key: 'anonymousAuth',\n    value: function anonymousAuth(cors) {\n      var _this = this;\n\n      var init = {\n        method: 'GET',\n        headers: {\n          'Accept': common.JSONTYPE,\n          'Content-Type': common.JSONTYPE\n        }\n      };\n\n      // TODO get rid of the cors flag. it should just be on all the time.\n      if (cors) {\n        init['cors'] = cors;\n      }\n\n      return fetch(this.rootUrl + '/anon/user', init).then(common.checkStatus).then(function (response) {\n        return response.json().then(function (json) {\n          _this.set(json);\n          Promise.resolve();\n        });\n      });\n    }\n  }, {\n    key: 'apiKeyAuth',\n    value: function apiKeyAuth(key) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { cors: true };\n\n      var init = {\n        method: 'POST',\n        headers: {\n          'Accept': common.JSONTYPE,\n          'Content-Type': common.JSONTYPE\n        },\n        body: JSON.stringify({ 'key': key })\n      };\n\n      if (options && options.cors === false) {\n        init['cors'] = false;\n      } else {\n        init['cors'] = true;\n      }\n\n      return fetch(this.rootUrl + '/api/key', init).then(common.checkStatus).then(function (response) {\n        return response.json().then(function (json) {\n          _this2.set(json);\n          return Promise.resolve();\n        });\n      });\n    }\n  }, {\n    key: 'localAuth',\n    value: function localAuth(username, password) {\n      var _this3 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { cors: true };\n\n      var init = {\n        method: 'POST',\n        headers: {\n          'Accept': common.JSONTYPE,\n          'Content-Type': common.JSONTYPE\n        },\n        body: JSON.stringify({ 'username': username, 'password': password })\n      };\n\n      if (options && options.cors === false) {\n        init['cors'] = false;\n      } else {\n        init['cors'] = true;\n      }\n\n      return fetch(this.rootUrl + '/local/userpass', init).then(common.checkStatus).then(function (response) {\n        return response.json().then(function (json) {\n          _this3.set(json);\n          return Promise.resolve(json);\n        });\n      });\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.authDataStorage.removeItem(common.USER_AUTH_KEY);\n      this.authDataStorage.removeItem(common.REFRESH_TOKEN_KEY);\n      this.clearImpersonation();\n    }\n  }, {\n    key: 'getRefreshToken',\n    value: function getRefreshToken() {\n      return this.authDataStorage.getItem(common.REFRESH_TOKEN_KEY);\n    }\n  }, {\n    key: 'set',\n    value: function set(json) {\n      var rt = json['refreshToken'];\n      delete json['refreshToken'];\n\n      var c = _jsBase.Base64.encode;\n      this.authDataStorage.setItem(common.USER_AUTH_KEY, c(JSON.stringify(json)));\n      this.authDataStorage.setItem(common.REFRESH_TOKEN_KEY, rt);\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      if (!this.authDataStorage.getItem(common.USER_AUTH_KEY)) {\n        return null;\n      }\n      var item = this.authDataStorage.getItem(common.USER_AUTH_KEY);\n      return JSON.parse(_jsBase.Base64.decode(item));\n    }\n  }, {\n    key: 'authedId',\n    value: function authedId() {\n      var id = ((this.get() || {}).user || {})._id;\n      if (id) {\n        return { '$oid': id };\n      }\n    }\n  }, {\n    key: 'isImpersonatingUser',\n    value: function isImpersonatingUser() {\n      return this.authDataStorage.getItem(common.IMPERSONATION_ACTIVE_KEY) === 'true';\n    }\n  }, {\n    key: 'refreshImpersonation',\n    value: function refreshImpersonation(client) {\n      var _this4 = this;\n\n      var userId = this.authDataStorage.getItem(common.IMPERSONATION_USER_KEY);\n      return client._doAuthed('/admin/users/' + userId + '/impersonate', 'POST', { refreshOnFailure: false, useRefreshToken: true }).then(function (response) {\n        return response.json().then(function (json) {\n          json['refreshToken'] = _this4.authDataStorage.getItem(common.REFRESH_TOKEN_KEY);\n          _this4.set(json);\n          return Promise.resolve();\n        });\n      }).catch(function (e) {\n        _this4.stopImpersonation();\n        throw e;\n      });\n    }\n  }, {\n    key: 'startImpersonation',\n    value: function startImpersonation(client, userId) {\n      if (this.get() === null) {\n        return Promise.reject(new common.BaasError('Must auth first'));\n      }\n      if (this.isImpersonatingUser()) {\n        return Promise.reject(new common.BaasError('Already impersonating a user'));\n      }\n      this.authDataStorage.setItem(common.IMPERSONATION_ACTIVE_KEY, 'true');\n      this.authDataStorage.setItem(common.IMPERSONATION_USER_KEY, userId);\n\n      var realUserAuth = JSON.parse(_jsBase.Base64.decode(this.authDataStorage.getItem(common.USER_AUTH_KEY)));\n      realUserAuth['refreshToken'] = this.authDataStorage.getItem(common.REFRESH_TOKEN_KEY);\n      this.authDataStorage.setItem(common.IMPERSONATION_REAL_USER_AUTH_KEY, _jsBase.Base64.encode(JSON.stringify(realUserAuth)));\n      return this.refreshImpersonation(client);\n    }\n  }, {\n    key: 'stopImpersonation',\n    value: function stopImpersonation() {\n      var _this5 = this;\n\n      return new Promise(function (resolve, reject) {\n        if (!_this5.isImpersonatingUser()) {\n          throw new common.BaasError('Not impersonating a user');\n        }\n        var realUserAuth = JSON.parse(_jsBase.Base64.decode(_this5.authDataStorage.getItem(common.IMPERSONATION_REAL_USER_AUTH_KEY)));\n        _this5.set(realUserAuth);\n        _this5.clearImpersonation();\n        resolve();\n      });\n    }\n  }, {\n    key: 'clearImpersonation',\n    value: function clearImpersonation() {\n      this.authDataStorage.removeItem(common.IMPERSONATION_ACTIVE_KEY);\n      this.authDataStorage.removeItem(common.IMPERSONATION_USER_KEY);\n      this.authDataStorage.removeItem(common.IMPERSONATION_REAL_USER_AUTH_KEY);\n    }\n  }], [{\n    key: 'generateState',\n    value: function generateState() {\n      var alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      var state = '';\n      var stateLength = 64;\n      for (var i = 0; i < stateLength; i++) {\n        var pos = Math.floor(Math.random() * alpha.length);\n        state += alpha.substring(pos, pos + 1);\n      }\n      return state;\n    }\n  }]);\n\n  return Auth;\n}();\n\nexports.default = Auth;\n\n\n// WEBPACK FOOTER //\n// ./distribution/auth.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar JSONTYPE = exports.JSONTYPE = 'application/json';\nvar USER_AUTH_KEY = exports.USER_AUTH_KEY = '_baas_ua';\nvar REFRESH_TOKEN_KEY = exports.REFRESH_TOKEN_KEY = '_baas_rt';\nvar STATE_KEY = exports.STATE_KEY = '_baas_state';\nvar BAAS_ERROR_KEY = exports.BAAS_ERROR_KEY = '_baas_error';\nvar BAAS_LINK_KEY = exports.BAAS_LINK_KEY = '_baas_link';\nvar IMPERSONATION_ACTIVE_KEY = exports.IMPERSONATION_ACTIVE_KEY = '_baas_impers_active';\nvar IMPERSONATION_USER_KEY = exports.IMPERSONATION_USER_KEY = '_baas_impers_user';\nvar IMPERSONATION_REAL_USER_AUTH_KEY = exports.IMPERSONATION_REAL_USER_AUTH_KEY = '_baas_impers_real_ua';\n\nvar DEFAULT_BAAS_SERVER_URL = exports.DEFAULT_BAAS_SERVER_URL = 'https://baas-dev.10gen.cc';\n\nvar checkStatus = exports.checkStatus = function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    var error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n};\n\nvar parseRedirectFragment = exports.parseRedirectFragment = function parseRedirectFragment(fragment, ourState) {\n  // After being redirected from oauth, the URL will look like:\n  // https://todo.examples.baas-dev.10gen.cc/#_baas_state=...&_baas_ua=...\n  // This function parses out baas-specific tokens from the fragment and\n  // builds an object describing the result.\n  var vars = fragment.split('&');\n  var result = { ua: null, found: false, stateValid: false, lastError: null };\n  var shouldBreak = false;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = vars[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var pair = _step.value;\n\n      var pairParts = pair.split('=');\n      var pairKey = decodeURIComponent(pairParts[0]);\n      switch (pairKey) {\n        case BAAS_ERROR_KEY:\n          result.lastError = decodeURIComponent(pairParts[1]);\n          result.found = true;\n          shouldBreak = true;\n          break;\n        case USER_AUTH_KEY:\n          result.ua = JSON.parse(window.atob(decodeURIComponent(pairParts[1])));\n          result.found = true;\n          continue;\n        case BAAS_LINK_KEY:\n          result.found = true;\n          continue;\n        case STATE_KEY:\n          result.found = true;\n          var theirState = decodeURIComponent(pairParts[1]);\n          if (ourState && ourState === theirState) {\n            result.stateValid = true;\n          }\n      }\n      if (shouldBreak) {\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar BaasError = exports.BaasError = function (_Error) {\n  _inherits(BaasError, _Error);\n\n  function BaasError(message, code) {\n    _classCallCheck(this, BaasError);\n\n    var _this = _possibleConstructorReturn(this, (BaasError.__proto__ || Object.getPrototypeOf(BaasError)).call(this, message));\n\n    _this.name = 'BaasError';\n    _this.message = message;\n    if (code !== undefined) {\n      _this.code = code;\n    }\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(_this, _this.constructor);\n    } else {\n      _this.stack = new Error(message).stack;\n    }\n    return _this;\n  }\n\n  return BaasError;\n}(Error);\n\n\n// WEBPACK FOOTER //\n// ./distribution/common.js","/*\n * $Id: base64.js,v 2.15 2014/04/05 12:58:57 dankogai Exp dankogai $\n *\n *  Licensed under the MIT license.\n *    http://opensource.org/licenses/mit-license\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n\n(function(global) {\n    'use strict';\n    // existing version for noConflict()\n    var _Base64 = global.Base64;\n    var version = \"2.1.9\";\n    // if node.js, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = require('buffer').Buffer;\n        } catch (err) {}\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ? function (u) {\n        return (u.constructor === buffer.constructor ? u : new buffer(u))\n        .toString('base64')\n    }\n    : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/[\\s\\S]{1,4}/g, cb_decode);\n    };\n    var _decode = buffer ? function(a) {\n        return (a.constructor === buffer.constructor\n                ? a : new buffer(a, 'base64')).toString();\n    }\n    : function(a) { return btou(atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    // that's it!\n    if (global['Meteor']) {\n       Base64 = global.Base64; // for normal export in Meteor.js\n    }\n})(this);\n\n\n\n// WEBPACK FOOTER //\n// ./~/js-base64/base64.js","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/buffer/index.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/base64-js/index.js","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/ieee754/index.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/isarray/index.js","'use strict';\n\n// This is free and unencumbered software released into the public domain.\n// See LICENSE.md for more information.\n\n//\n// Utilities\n//\n\n/**\n * @param {number} a The number to test.\n * @param {number} min The minimum value in the range, inclusive.\n * @param {number} max The maximum value in the range, inclusive.\n * @return {boolean} True if a >= min and a <= max.\n */\nfunction inRange(a, min, max) {\n  return min <= a && a <= max;\n}\n\n/**\n * @param {*} o\n * @return {Object}\n */\nfunction ToDictionary(o) {\n  if (o === undefined) return {};\n  if (o === Object(o)) return o;\n  throw TypeError('Could not convert argument to dictionary');\n}\n\n/**\n * @param {string} string Input string of UTF-16 code units.\n * @return {!Array.<number>} Code points.\n */\nfunction stringToCodePoints(string) {\n  // https://heycam.github.io/webidl/#dfn-obtain-unicode\n\n  // 1. Let S be the DOMString value.\n  var s = String(string);\n\n  // 2. Let n be the length of S.\n  var n = s.length;\n\n  // 3. Initialize i to 0.\n  var i = 0;\n\n  // 4. Initialize U to be an empty sequence of Unicode characters.\n  var u = [];\n\n  // 5. While i < n:\n  while (i < n) {\n\n    // 1. Let c be the code unit in S at index i.\n    var c = s.charCodeAt(i);\n\n    // 2. Depending on the value of c:\n\n    // c < 0xD800 or c > 0xDFFF\n    if (c < 0xD800 || c > 0xDFFF) {\n      // Append to U the Unicode character with code point c.\n      u.push(c);\n    }\n\n    // 0xDC00 ≤ c ≤ 0xDFFF\n    else if (0xDC00 <= c && c <= 0xDFFF) {\n      // Append to U a U+FFFD REPLACEMENT CHARACTER.\n      u.push(0xFFFD);\n    }\n\n    // 0xD800 ≤ c ≤ 0xDBFF\n    else if (0xD800 <= c && c <= 0xDBFF) {\n      // 1. If i = n−1, then append to U a U+FFFD REPLACEMENT\n      // CHARACTER.\n      if (i === n - 1) {\n        u.push(0xFFFD);\n      }\n      // 2. Otherwise, i < n−1:\n      else {\n        // 1. Let d be the code unit in S at index i+1.\n        var d = string.charCodeAt(i + 1);\n\n        // 2. If 0xDC00 ≤ d ≤ 0xDFFF, then:\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // 1. Let a be c & 0x3FF.\n          var a = c & 0x3FF;\n\n          // 2. Let b be d & 0x3FF.\n          var b = d & 0x3FF;\n\n          // 3. Append to U the Unicode character with code point\n          // 2^16+2^10*a+b.\n          u.push(0x10000 + (a << 10) + b);\n\n          // 4. Set i to i+1.\n          i += 1;\n        }\n\n        // 3. Otherwise, d < 0xDC00 or d > 0xDFFF. Append to U a\n        // U+FFFD REPLACEMENT CHARACTER.\n        else  {\n          u.push(0xFFFD);\n        }\n      }\n    }\n\n    // 3. Set i to i+1.\n    i += 1;\n  }\n\n  // 6. Return U.\n  return u;\n}\n\n/**\n * @param {!Array.<number>} code_points Array of code points.\n * @return {string} string String of UTF-16 code units.\n */\nfunction codePointsToString(code_points) {\n  var s = '';\n  for (var i = 0; i < code_points.length; ++i) {\n    var cp = code_points[i];\n    if (cp <= 0xFFFF) {\n      s += String.fromCharCode(cp);\n    } else {\n      cp -= 0x10000;\n      s += String.fromCharCode((cp >> 10) + 0xD800,\n                               (cp & 0x3FF) + 0xDC00);\n    }\n  }\n  return s;\n}\n\n\n//\n// Implementation of Encoding specification\n// https://encoding.spec.whatwg.org/\n//\n\n//\n// 3. Terminology\n//\n\n/**\n * End-of-stream is a special token that signifies no more tokens\n * are in the stream.\n * @const\n */ var end_of_stream = -1;\n\n/**\n * A stream represents an ordered sequence of tokens.\n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} tokens Array of tokens that provide the\n * stream.\n */\nfunction Stream(tokens) {\n  /** @type {!Array.<number>} */\n  this.tokens = [].slice.call(tokens);\n}\n\nStream.prototype = {\n  /**\n   * @return {boolean} True if end-of-stream has been hit.\n   */\n  endOfStream: function() {\n    return !this.tokens.length;\n  },\n\n  /**\n   * When a token is read from a stream, the first token in the\n   * stream must be returned and subsequently removed, and\n   * end-of-stream must be returned otherwise.\n   *\n   * @return {number} Get the next token from the stream, or\n   * end_of_stream.\n   */\n   read: function() {\n    if (!this.tokens.length)\n      return end_of_stream;\n     return this.tokens.shift();\n   },\n\n  /**\n   * When one or more tokens are prepended to a stream, those tokens\n   * must be inserted, in given order, before the first token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The token(s) to prepend to the stream.\n   */\n  prepend: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.unshift(tokens.pop());\n    } else {\n      this.tokens.unshift(token);\n    }\n  },\n\n  /**\n   * When one or more tokens are pushed to a stream, those tokens\n   * must be inserted, in given order, after the last token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The tokens(s) to prepend to the stream.\n   */\n  push: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.push(tokens.shift());\n    } else {\n      this.tokens.push(token);\n    }\n  }\n};\n\n//\n// 4. Encodings\n//\n\n// 4.1 Encoders and decoders\n\n/** @const */\nvar finished = -1;\n\n/**\n * @param {boolean} fatal If true, decoding errors raise an exception.\n * @param {number=} opt_code_point Override the standard fallback code point.\n * @return {number} The code point to insert on a decoding error.\n */\nfunction decoderError(fatal, opt_code_point) {\n  if (fatal)\n    throw TypeError('Decoder error');\n  return opt_code_point || 0xFFFD;\n}\n\n//\n// 7. API\n//\n\n/** @const */ var DEFAULT_ENCODING = 'utf-8';\n\n// 7.1 Interface TextDecoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextDecoder(encoding, options) {\n  if (!(this instanceof TextDecoder)) {\n    return new TextDecoder(encoding, options);\n  }\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {boolean} */\n  this._BOMseen = false;\n  /** @private @type {?Decoder} */\n  this._decoder = null;\n  /** @private @type {boolean} */\n  this._fatal = Boolean(options['fatal']);\n  /** @private @type {boolean} */\n  this._ignoreBOM = Boolean(options['ignoreBOM']);\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n  Object.defineProperty(this, 'fatal', {value: this._fatal});\n  Object.defineProperty(this, 'ignoreBOM', {value: this._ignoreBOM});\n}\n\nTextDecoder.prototype = {\n  /**\n   * @param {ArrayBufferView=} input The buffer of bytes to decode.\n   * @param {Object=} options\n   * @return {string} The decoded string.\n   */\n  decode: function decode(input, options) {\n    var bytes;\n    if (typeof input === 'object' && input instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input);\n    } else if (typeof input === 'object' && 'buffer' in input &&\n               input.buffer instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input.buffer,\n                             input.byteOffset,\n                             input.byteLength);\n    } else {\n      bytes = new Uint8Array(0);\n    }\n\n    options = ToDictionary(options);\n\n    if (!this._streaming) {\n      this._decoder = new UTF8Decoder({fatal: this._fatal});\n      this._BOMseen = false;\n    }\n    this._streaming = Boolean(options['stream']);\n\n    var input_stream = new Stream(bytes);\n\n    var code_points = [];\n\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n\n    while (!input_stream.endOfStream()) {\n      result = this._decoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (result === null)\n        continue;\n      if (Array.isArray(result))\n        code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n      else\n        code_points.push(result);\n    }\n    if (!this._streaming) {\n      do {\n        result = this._decoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (result === null)\n          continue;\n        if (Array.isArray(result))\n          code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n        else\n          code_points.push(result);\n      } while (!input_stream.endOfStream());\n      this._decoder = null;\n    }\n\n    if (code_points.length) {\n      // If encoding is one of utf-8, utf-16be, and utf-16le, and\n      // ignore BOM flag and BOM seen flag are unset, run these\n      // subsubsteps:\n      if (['utf-8'].indexOf(this.encoding) !== -1 &&\n          !this._ignoreBOM && !this._BOMseen) {\n        // If token is U+FEFF, set BOM seen flag.\n        if (code_points[0] === 0xFEFF) {\n          this._BOMseen = true;\n          code_points.shift();\n        } else {\n          // Otherwise, if token is not end-of-stream, set BOM seen\n          // flag and append token to output.\n          this._BOMseen = true;\n        }\n      }\n    }\n\n    return codePointsToString(code_points);\n  }\n};\n\n// 7.2 Interface TextEncoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextEncoder(encoding, options) {\n  if (!(this instanceof TextEncoder))\n    return new TextEncoder(encoding, options);\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {?Encoder} */\n  this._encoder = null;\n  /** @private @type {{fatal: boolean}} */\n  this._options = {fatal: Boolean(options['fatal'])};\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n}\n\nTextEncoder.prototype = {\n  /**\n   * @param {string=} opt_string The string to encode.\n   * @param {Object=} options\n   * @return {Uint8Array} Encoded bytes, as a Uint8Array.\n   */\n  encode: function encode(opt_string, options) {\n    opt_string = opt_string ? String(opt_string) : '';\n    options = ToDictionary(options);\n\n    // NOTE: This option is nonstandard. None of the encodings\n    // permitted for encoding (i.e. UTF-8, UTF-16) are stateful,\n    // so streaming is not necessary.\n    if (!this._streaming)\n      this._encoder = new UTF8Encoder(this._options);\n    this._streaming = Boolean(options['stream']);\n\n    var bytes = [];\n    var input_stream = new Stream(stringToCodePoints(opt_string));\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n    while (!input_stream.endOfStream()) {\n      result = this._encoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (Array.isArray(result))\n        bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n      else\n        bytes.push(result);\n    }\n    if (!this._streaming) {\n      while (true) {\n        result = this._encoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (Array.isArray(result))\n          bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n        else\n          bytes.push(result);\n      }\n      this._encoder = null;\n    }\n    return new Uint8Array(bytes);\n  }\n};\n\n//\n// 8. The encoding\n//\n\n// 8.1 utf-8\n\n/**\n * @constructor\n * @implements {Decoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Decoder(options) {\n  var fatal = options.fatal;\n\n  // utf-8's decoder's has an associated utf-8 code point, utf-8\n  // bytes seen, and utf-8 bytes needed (all initially 0), a utf-8\n  // lower boundary (initially 0x80), and a utf-8 upper boundary\n  // (initially 0xBF).\n  var /** @type {number} */ utf8_code_point = 0,\n      /** @type {number} */ utf8_bytes_seen = 0,\n      /** @type {number} */ utf8_bytes_needed = 0,\n      /** @type {number} */ utf8_lower_boundary = 0x80,\n      /** @type {number} */ utf8_upper_boundary = 0xBF;\n\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point.\n   */\n  this.handler = function(stream, bite) {\n    // 1. If byte is end-of-stream and utf-8 bytes needed is not 0,\n    // set utf-8 bytes needed to 0 and return error.\n    if (bite === end_of_stream && utf8_bytes_needed !== 0) {\n      utf8_bytes_needed = 0;\n      return decoderError(fatal);\n    }\n\n    // 2. If byte is end-of-stream, return finished.\n    if (bite === end_of_stream)\n      return finished;\n\n    // 3. If utf-8 bytes needed is 0, based on byte:\n    if (utf8_bytes_needed === 0) {\n\n      // 0x00 to 0x7F\n      if (inRange(bite, 0x00, 0x7F)) {\n        // Return a code point whose value is byte.\n        return bite;\n      }\n\n      // 0xC2 to 0xDF\n      if (inRange(bite, 0xC2, 0xDF)) {\n        // Set utf-8 bytes needed to 1 and utf-8 code point to byte\n        // − 0xC0.\n        utf8_bytes_needed = 1;\n        utf8_code_point = bite - 0xC0;\n      }\n\n      // 0xE0 to 0xEF\n      else if (inRange(bite, 0xE0, 0xEF)) {\n        // 1. If byte is 0xE0, set utf-8 lower boundary to 0xA0.\n        if (bite === 0xE0)\n          utf8_lower_boundary = 0xA0;\n        // 2. If byte is 0xED, set utf-8 upper boundary to 0x9F.\n        if (bite === 0xED)\n          utf8_upper_boundary = 0x9F;\n        // 3. Set utf-8 bytes needed to 2 and utf-8 code point to\n        // byte − 0xE0.\n        utf8_bytes_needed = 2;\n        utf8_code_point = bite - 0xE0;\n      }\n\n      // 0xF0 to 0xF4\n      else if (inRange(bite, 0xF0, 0xF4)) {\n        // 1. If byte is 0xF0, set utf-8 lower boundary to 0x90.\n        if (bite === 0xF0)\n          utf8_lower_boundary = 0x90;\n        // 2. If byte is 0xF4, set utf-8 upper boundary to 0x8F.\n        if (bite === 0xF4)\n          utf8_upper_boundary = 0x8F;\n        // 3. Set utf-8 bytes needed to 3 and utf-8 code point to\n        // byte − 0xF0.\n        utf8_bytes_needed = 3;\n        utf8_code_point = bite - 0xF0;\n      }\n\n      // Otherwise\n      else {\n        // Return error.\n        return decoderError(fatal);\n      }\n\n      // Then (byte is in the range 0xC2 to 0xF4) set utf-8 code\n      // point to utf-8 code point << (6 × utf-8 bytes needed) and\n      // return continue.\n      utf8_code_point = utf8_code_point << (6 * utf8_bytes_needed);\n      return null;\n    }\n\n    // 4. If byte is not in the range utf-8 lower boundary to utf-8\n    // upper boundary, run these substeps:\n    if (!inRange(bite, utf8_lower_boundary, utf8_upper_boundary)) {\n\n      // 1. Set utf-8 code point, utf-8 bytes needed, and utf-8\n      // bytes seen to 0, set utf-8 lower boundary to 0x80, and set\n      // utf-8 upper boundary to 0xBF.\n      utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n      utf8_lower_boundary = 0x80;\n      utf8_upper_boundary = 0xBF;\n\n      // 2. Prepend byte to stream.\n      stream.prepend(bite);\n\n      // 3. Return error.\n      return decoderError(fatal);\n    }\n\n    // 5. Set utf-8 lower boundary to 0x80 and utf-8 upper boundary\n    // to 0xBF.\n    utf8_lower_boundary = 0x80;\n    utf8_upper_boundary = 0xBF;\n\n    // 6. Increase utf-8 bytes seen by one and set utf-8 code point\n    // to utf-8 code point + (byte − 0x80) << (6 × (utf-8 bytes\n    // needed − utf-8 bytes seen)).\n    utf8_bytes_seen += 1;\n    utf8_code_point += (bite - 0x80) << (6 * (utf8_bytes_needed - utf8_bytes_seen));\n\n    // 7. If utf-8 bytes seen is not equal to utf-8 bytes needed,\n    // continue.\n    if (utf8_bytes_seen !== utf8_bytes_needed)\n      return null;\n\n    // 8. Let code point be utf-8 code point.\n    var code_point = utf8_code_point;\n\n    // 9. Set utf-8 code point, utf-8 bytes needed, and utf-8 bytes\n    // seen to 0.\n    utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n\n    // 10. Return a code point whose value is code point.\n    return code_point;\n  };\n}\n\n/**\n * @constructor\n * @implements {Encoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Encoder(options) {\n  var fatal = options.fatal;\n  /**\n   * @param {Stream} stream Input stream.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit.\n   */\n  this.handler = function(stream, code_point) {\n    // 1. If code point is end-of-stream, return finished.\n    if (code_point === end_of_stream)\n      return finished;\n\n    // 2. If code point is in the range U+0000 to U+007F, return a\n    // byte whose value is code point.\n    if (inRange(code_point, 0x0000, 0x007f))\n      return code_point;\n\n    // 3. Set count and offset based on the range code point is in:\n    var count, offset;\n    // U+0080 to U+07FF:    1 and 0xC0\n    if (inRange(code_point, 0x0080, 0x07FF)) {\n      count = 1;\n      offset = 0xC0;\n    }\n    // U+0800 to U+FFFF:    2 and 0xE0\n    else if (inRange(code_point, 0x0800, 0xFFFF)) {\n      count = 2;\n      offset = 0xE0;\n    }\n    // U+10000 to U+10FFFF: 3 and 0xF0\n    else if (inRange(code_point, 0x10000, 0x10FFFF)) {\n      count = 3;\n      offset = 0xF0;\n    }\n\n    // 4.Let bytes be a byte sequence whose first byte is (code\n    // point >> (6 × count)) + offset.\n    var bytes = [(code_point >> (6 * count)) + offset];\n\n    // 5. Run these substeps while count is greater than 0:\n    while (count > 0) {\n\n      // 1. Set temp to code point >> (6 × (count − 1)).\n      var temp = code_point >> (6 * (count - 1));\n\n      // 2. Append to bytes 0x80 | (temp & 0x3F).\n      bytes.push(0x80 | (temp & 0x3F));\n\n      // 3. Decrease count by one.\n      count -= 1;\n    }\n\n    // 6. Return bytes bytes, in order.\n    return bytes;\n  };\n}\n\nexports.TextEncoder = TextEncoder;\nexports.TextDecoder = TextDecoder;\n\n\n// WEBPACK FOOTER //\n// ./~/text-encoding-utf-8/lib/encoding.cjs.js","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n\n\n\n// WEBPACK FOOTER //\n// ./~/isomorphic-fetch/fetch-npm-browserify.js","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n// WEBPACK FOOTER //\n// ./~/whatwg-fetch/fetch.js","var ExtJSON = require('./lib/ext_json');\nExtJSON.BSON = require('./lib/bson');\n\nmodule.exports = ExtJSON;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/index.js","var bsonModule = require('./bson')\nvar atob = require('./bson/shared').atob;\n\nvar ExtJSON = function(module) {\n  if (module) {\n    for (var i = 0; i < BSONTypes.length; i++) {\n      if (!module[BSONTypes[i]]) throw new Error('passed in module does not contain all BSON types required');\n    }\n\n    this.bson = module;\n  } else {\n    this.bson = bsonModule;\n  }\n}\n\nExtJSON.extend = function(module) {\n  if (!module) throw new Error(\"expecting mongodb module, invoke by calling ExtJSON.extend(require('mongodb'))\")\n  // Rewrite passed in types\n  for (var i = 0; i < BSONTypes.length; i++) {\n    if (module[BSONTypes[i]]) {\n      // Add the toJSON to the passed in types\n      // This lets us modify the toJSON method withou breaking\n      // backward compatibility\n      module[BSONTypes[i]].prototype.toJSON = bsonModule[BSONTypes[i]].prototype.toJSON;\n    }\n  }\n\n  return module;\n}\n\nfunction deseralizeValue(self, value, options) {\n  if(value['$oid'] != null) {\n    return new self.bson.ObjectID(value['$oid']);\n  } else if(value['$date'] && typeof value['$date'] == 'string') {\n    return Date.parse(value['$date']);\n  } else if(value['$date'] && value['$date'] instanceof self.bson.Long) {\n    var date = new Date();\n    date.setTime(value['$date'].toNumber());\n    return date;\n  } else if(value['$binary'] != null) {\n    if (typeof Buffer !== 'undefined') {\n      var data = new Buffer(value['$binary'], 'base64');\n    } else {\n      var data = new Uint8Array(atob(value['$binary'])\n        .split(\"\")\n        .map(function(c) {\n          return c.charCodeAt(0);\n        }));\n    }\n\n    var type = value['$type'] ? parseInt(value['$type'], 16) : 0;\n    return new self.bson.Binary(data, type);\n  } else if(value['$maxKey'] != null) {\n    return new self.bson.MaxKey();\n  } else if(value['$minKey'] != null) {\n    return new self.bson.MinKey();\n  } else if(value['$code'] != null) {\n    return new self.bson.Code(value['$code'], deseralizeValue(self, value['$scope'] || {}, options))\n  } else if(value['$numberLong'] != null) {\n    return self.bson.Long.fromString(value['$numberLong']);\n  } else if(value['$numberDouble'] != null && options.strict) {\n    return new self.bson.Double(parseFloat(value['$numberDouble']));\n  } else if(value['$numberDouble'] != null && !options.strict) {\n    return parseFloat(value['$numberDouble']);\n  } else if(value['$numberInt'] != null && options.strict) {\n    return new self.bson.Int32(parseInt(value['$numberInt'], 10));\n  } else if(value['$numberInt'] != null && !options.strict) {\n    return parseInt(value['$numberInt'], 10);\n  } else if(value['$numberDecimal'] != null) {\n    return self.bson.Decimal128.fromString(value['$numberDecimal']);\n  } else if(value['$regex'] != null) {\n    return new self.bson.BSONRegExp(value['$regex'], value['$options'] || '');\n  } else if(value['$symbol'] != null) {\n    return new self.bson.Symbol(value['$symbol']);\n  } else if(value['$ref'] != null) {\n    return new self.bson.DBRef(value['$ref'], deseralizeValue(self, value['$id'], options), value['$db']);\n  } else if(value['$timestamp'] != null) {\n    return self.bson.Timestamp.fromString(value['$timestamp']);\n  } else if(typeof value == 'number' && options.strict) {\n    if(Math.floor(value) === value && value >= JS_INT_MIN && value <= JS_INT_MAX) {\n      if(value >= BSON_INT32_MIN && value <= BSON_INT32_MAX) {\n        return new self.bson.Int32(value);\n      } else if(value >= JS_INT_MIN && value <= JS_INT_MAX) {\n        return new self.bson.Double(value);\n      } else {\n        return new self.bson.Long.fromNumber(value);\n      }\n    } else {\n      return new self.bson.Double(value);\n    }\n  } else if(typeof value == 'number' && !options.strict) {\n    if(Math.floor(value) === value && value >= JS_INT_MIN && value <= JS_INT_MAX) {\n      if(value >= BSON_INT32_MIN && value <= BSON_INT32_MAX) {\n        return value;\n      } else if(value >= JS_INT_MIN && value <= JS_INT_MAX) {\n        return value;\n      } else {\n        return new self.bson.Long.fromNumber(value);\n      }\n    } else {\n      return value;\n    }\n  } else {\n    return value;\n  }\n}\n\nExtJSON.prototype.parse = function(text, options) {\n  var self = this;\n  options = options || { strict: true };\n\n  var object = JSON.parse(text, function(key, value) {\n    return deseralizeValue(self, value, options);\n  });\n\n  return object;\n}\n\n//\n// Serializer\n//\n\n// MAX INT32 boundaries\nvar BSON_INT32_MAX = 0x7FFFFFFF;\nvar BSON_INT32_MIN = -0x80000000;\n\n// JS MAX PRECISE VALUES\nvar JS_INT_MAX = 0x20000000000000;  // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN = -0x20000000000000;  // Any integer down to -2^53 can be precisely represented by a double.\n\nExtJSON.prototype.stringify = function(value, reducer, indents) {\n  var doc = null;\n\n  if(Array.isArray(value)) {\n    doc = serializeArray(value);\n  } else {\n    doc = serializeDocument(value);\n  }\n\n  return JSON.stringify(doc, reducer, indents);\n}\n\nfunction serializeArray(array) {\n  var _array = new Array(array.length);\n\n  for(var i = 0; i < array.length; i++) {\n    _array[i] = serializeValue(array[i]);\n  }\n\n  return _array;\n}\n\nfunction serializeValue(value) {\n  if(value instanceof Date) {\n    return { $date: { $numberLong: value.getTime().toString() } };\n  } else if(typeof value == 'number') {\n    if(Math.floor(value) === value && value >= JS_INT_MIN && value <= JS_INT_MAX) {\n      if(value >= BSON_INT32_MIN && value <= BSON_INT32_MAX) {\n        return { $numberInt: value.toString() };\n      } else if(value >= JS_INT_MIN && value <= JS_INT_MAX) {\n        return { $numberDouble: value.toString() };\n      } else {\n        return { $numberLong: value.toString() };\n      }\n    } else {\n      return { $numberDouble: value.toString() };\n    }\n  } else if(Array.isArray(value)) {\n    return serializeArray(value);\n  } else if(value != null && typeof value == 'object') {\n    return serializeDocument(value);\n  }\n\n  return value;\n}\n\nvar BSONTypes = ['Binary', 'Code', 'DBRef', 'Decimal128', 'Double',\n  'Int32', 'Long', 'MaxKey', 'MinKey', 'ObjectID', 'BSONRegExp', 'Symbol', 'Timestamp'];\n\nfunction serializeDocument(doc) {\n  if(doc == null || typeof doc !== 'object') throw new Error('not an object instance');\n  var _doc = {};\n\n  for(var name in doc) {\n    if(Array.isArray(doc[name])) {\n      _doc[name] = serializeArray(doc[name]);\n    } else if(doc[name] != null && doc[name]._bsontype && BSONTypes.indexOf(doc[name]._bsontype) != -1) {\n      _doc[name] = doc[name];\n    } else if(doc[name] instanceof Date) {\n      _doc[name] = serializeValue(doc[name]);\n    } else if(doc[name] != null && typeof doc[name] === 'object') {\n      _doc[name] = serializeDocument(doc[name]);\n    } else {\n      _doc[name] = serializeValue(doc[name]);\n    }\n  }\n\n  return _doc;\n}\n\n// Export the Extended BSON\nmodule.exports = ExtJSON;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/ext_json.js","const Binary = require('./binary');\nconst Code = require('./code');\nconst DBRef = require('./db_ref');\nconst Decimal128 = require('./decimal128');\nconst Double = require('./double');\nconst Int32 = require('./int_32');\nconst Long = require('./long');\nconst MaxKey = require('./max_key');\nconst MinKey = require('./min_key');\nconst ObjectID = require('./objectid');\nconst BSONRegExp = require('./regexp');\nconst Symbol = require('./symbol');\nconst Timestamp = require('./timestamp');\n\nmodule.exports = {\n  Binary, Code, DBRef, Decimal128, Double,\n  Int32, Long, MaxKey, MinKey, ObjectID, BSONRegExp, Symbol, Timestamp\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/index.js","var btoa = require('./shared').btoa;\n\n/**\n * Module dependencies.\n * @ignore\n */\nfunction convert(integer) {\n  var str = Number(integer).toString(16);\n  return str.length == 1 ? \"0\" + str : str;\n};\n\n/**\n * A class representation of the BSON Binary type.\n *\n * Sub types\n *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n *\n * @class\n * @param {Buffer} buffer a buffer object containing the binary data.\n * @param {Number} [subType] the option binary type.\n * @return {Binary}\n */\nvar Binary = function(buffer, subType) {\n  this._bsontype = 'Binary';\n\n  if(buffer instanceof Number) {\n    this.sub_type = buffer;\n    this.position = 0;\n  } else {\n    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n    this.position = 0;\n  }\n\n  if(buffer != null && !(buffer instanceof Number)) {\n    // Only accept Buffer or Uint8Array\n    if(typeof buffer == 'string') {\n      this.buffer = writeStringToArray(buffer);\n    } else if(buffer instanceof Uint8Array) {\n      this.buffer = buffer;\n    } else {\n      throw new Error('passed in buffer must be an Uint8Array instance');\n    }\n\n    this.position = buffer.length;\n  } else {\n    this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n    // Set position to start of buffer\n    this.position = 0;\n  }\n}\n\n/**\n * Updates this binary with byte_value.\n *\n * @method\n * @param {String} byte_value a single byte we wish to write.\n */\nBinary.prototype.put = function(byte_value) {\n  // If it's a string and a has more than one character throw an error\n  if(byte_value['length'] != null && typeof byte_value != 'number' && byte_value.length != 1) throw new Error(\"only accepts single character String, Uint8Array or Array\");\n  if(typeof byte_value != 'number' && byte_value < 0 || byte_value > 255) throw new Error(\"only accepts number in a valid unsigned byte range 0-255\");\n\n  // Decode the byte value once\n  var decoded_byte = null;\n  if(typeof byte_value == 'string') {\n    decoded_byte = byte_value.charCodeAt(0);\n  } else if(byte_value['length'] != null) {\n    decoded_byte = byte_value[0];\n  } else {\n    decoded_byte = byte_value;\n  }\n\n  if(this.buffer.length > this.position) {\n    this.buffer[this.position++] = decoded_byte;\n  } else {\n    var buffer = null;\n    // Create a new buffer (typed or normal array)\n    buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n\n    // We need to copy all the content to the new array\n    for(var i = 0; i < this.buffer.length; i++) {\n      buffer[i] = this.buffer[i];\n    }\n\n    // Reassign the buffer\n    this.buffer = buffer;\n    // Write the byte\n    this.buffer[this.position++] = decoded_byte;\n  }\n}\n\n/**\n * Writes a buffer or string to the binary.\n *\n * @method\n * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n * @param {number} offset specify the binary of where to write the content.\n * @return {null}\n */\nBinary.prototype.write = function(string, offset) {\n  offset = typeof offset == 'number' ? offset : this.position;\n\n  // If the buffer is to small let's extend the buffer\n  if(this.buffer.length < offset + string.length) {\n    var buffer = null;\n    // Create a new buffer\n    buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length))\n    // Copy the content\n    for(var i = 0; i < this.position; i++) {\n      buffer[i] = this.buffer[i];\n    }\n\n    // Assign the new buffer\n    this.buffer = buffer;\n  }\n\n  for(var i = 0; i < string.length; i++) {\n    this.buffer[offset++] = string[i];\n  }\n\n  this.position = offset > this.position ? offset : this.position;\n}\n\n/**\n * Reads **length** bytes starting at **position**.\n *\n * @method\n * @param {number} position read from the given position in the Binary.\n * @param {number} length the number of bytes to read.\n * @return {Buffer}\n */\nBinary.prototype.read = function(position, length) {\n  length = length && length > 0\n    ? length\n    : this.position;\n\n  // Let's return the data based on the type we have\n  return this.buffer.slice(position, position + length);\n}\n\n/**\n * Returns the value of this binary as a string.\n *\n * @method\n * @return {String}\n */\nBinary.prototype.value = function(asRaw) {\n  asRaw = asRaw == null ? false : asRaw;\n  if(asRaw) return this.buffer.slice(0, this.position);\n  return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n}\n\n/**\n * Length.\n *\n * @method\n * @return {number} the length of the binary.\n */\nBinary.prototype.length = function() {\n  return this.position;\n}\n\nBinary.prototype.equals = function(value) {\n  if(!value) return false;\n  if(value._bsontype != 'Binary') return false;\n  if(!value.buffer) return false;\n  if(value.buffer.length != this.buffer.length) return false;\n  for(var i = 0; i < this.buffer.length; i++) {\n    if(this.buffer[i] != value.buffer[i]) return false;\n  }\n\n  return true;\n}\n\n/**\n * @ignore\n */\nBinary.prototype.toJSON = function() {\n  // If we are in the node.js context use Buffer.toString, otherwise the btoa\n  var binary = typeof Buffer !== 'undefined'\n    ? this.buffer.toString('base64')\n    : btoa(String.fromCharCode.apply(null, this.buffer));\n\n  return {\n    $binary: binary,\n    $type: convert(this.sub_type)\n  }\n}\n\n/**\n * @ignore\n */\nBinary.prototype.toString = function(format) {\n  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n}\n\n/**\n * Binary default subtype\n * @ignore\n */\nvar BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\n/**\n * @ignore\n */\nvar writeStringToArray = function(data) {\n  // Create a buffer\n  var buffer = new Uint8Array(new ArrayBuffer(data.length));\n  // Write the content to the buffer\n  for(var i = 0; i < data.length; i++) {\n    buffer[i] = data.charCodeAt(i);\n  }\n  // Write the string to the buffer\n  return buffer;\n}\n\n/**\n * Convert Array ot Uint8Array to Binary String\n *\n * @ignore\n */\nvar convertArraytoUtf8BinaryString = function(byteArray, startIndex, endIndex) {\n  var result = \"\";\n  for(var i = startIndex; i < endIndex; i++) {\n   result = result + String.fromCharCode(byteArray[i]);\n  }\n  return result;\n};\n\nBinary.BUFFER_SIZE = 256;\n\n/**\n * Default BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_DEFAULT = 0;\n/**\n * Function BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_FUNCTION = 1;\n/**\n * Byte Array BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_BYTE_ARRAY = 2;\n/**\n * OLD UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID_OLD = 3;\n/**\n * UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID = 4;\n/**\n * MD5 BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_MD5 = 5;\n/**\n * User BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_USER_DEFINED = 128;\n\nmodule.exports = Binary;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/binary.js","var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction btoa(input) {\n  var str = String(input);\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars, output = '';\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3/4);\n    if (charCode > 0xFF) {\n      throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n};\n\nfunction atob(input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n};\n\nmodule.exports = {\n  btoa: btoa, atob: atob,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/shared.js","/**\n * A class representation of the BSON Code type.\n *\n * @class\n * @param {(string|function)} code a string or function.\n * @param {Object} [scope] an optional scope for the function.\n * @return {Code}\n */\nvar Code = function(code, scope) {\n  this._bsontype = 'Code';\n  this.code = code;\n  this.scope = scope;\n}\n\nCode.prototype.equals = function(value) {\n  if(!value || !value.code) return false;\n  if(value._bsontype != 'Code') return false;\n  if(this.code == value.code) return true;\n  return false;\n}\n\nCode.prototype.toJSON = function() {\n  return { $code: this.code, $scope: this.scope };\n}\n\nmodule.exports = Code;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/code.js","/**\n * A class representation of the BSON DBRef type.\n *\n * @class\n * @param {String} namespace the collection name.\n * @param {ObjectID} oid the reference ObjectID.\n * @param {String} [db] optional db name, if omitted the reference is local to the current db.\n * @return {DBRef}\n */\nvar DBRef = function(namespace, oid, db) {\n  this._bsontype = 'DBRef';\n  this.namespace = namespace;\n  this.oid = oid;\n  this.db = db;\n}\n\nDBRef.prototype.equals = function(value) {\n  if(value == null || value.namespace == null  || value.db == null || value.oid == null) return false;\n  if(value._bsontype != 'DBRef') return false;\n\n  if(this.oid && this.oid.equals) {\n    return this.oid.equals(value.oid) && this.namespace == value.namespace && this.db == value.db;\n  } else {\n    return this.oid == value.oid && this.namespace == value.namespace && this.db == value.db;\n  }\n}\n\nDBRef.prototype.toJSON = function() {\n  return {\n    '$ref':this.namespace,\n    '$id':this.oid,\n    '$db':this.db == null ? '' : this.db\n  };\n}\n\nmodule.exports = DBRef;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/db_ref.js","\"use strict\"\n\nconst Long = require('./long');\n\nvar PARSE_STRING_REGEXP = /^(\\+|\\-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([\\-\\+])?(\\d+)?$/;\nvar PARSE_INF_REGEXP = /^(\\+|\\-)?(Infinity|inf)$/i;\nvar PARSE_NAN_REGEXP = /^(\\+|\\-)?NaN$/i;\n\nvar EXPONENT_MAX = 6111;\nvar EXPONENT_MIN = -6176;\nvar EXPONENT_BIAS = 6176;\nvar MAX_DIGITS = 34;\n\n// Nan value bits as 32 bit values (due to lack of longs)\nvar NAN_BUFFER = [0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n// Infinity value bits 32 bit values (due to lack of longs)\nvar INF_NEGATIVE_BUFFER = [0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\nvar INF_POSITIVE_BUFFER = [0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n\nvar EXPONENT_REGEX = /^([\\-\\+])?(\\d+)?$/;\n\n// Extract least significant 5 bits\nvar COMBINATION_MASK = 0x1f;\n// Extract least significant 14 bits\nvar EXPONENT_MASK = 0x3fff;\n// Value of combination field for Inf\nvar COMBINATION_INFINITY = 30;\n// Value of combination field for NaN\nvar COMBINATION_NAN = 31;\n// Value of combination field for NaN\nvar COMBINATION_SNAN = 32;\n// decimal128 exponent bias\nvar EXPONENT_BIAS = 6176;\n\n// Detect if the value is a digit\nvar isDigit = function(value) {\n  return !isNaN(parseInt(value, 10));\n}\n\n// Divide two uint128 values\nvar divideu128 = function(value) {\n  var DIVISOR = Long.fromNumber(1000 * 1000 * 1000);\n  var _rem = Long.fromNumber(0);\n  var i = 0;\n\n  if(!value.parts[0] && !value.parts[1] &&\n     !value.parts[2] && !value.parts[3]) {\n    return { quotient: value, rem: _rem };\n  }\n\n  for(var i = 0; i <= 3; i++) {\n    // Adjust remainder to match value of next dividend\n    _rem = _rem.shiftLeft(32);\n    // Add the divided to _rem\n    _rem = _rem.add(new Long(value.parts[i], 0));\n    value.parts[i] = _rem.div(DIVISOR).low_;\n    _rem = _rem.modulo(DIVISOR);\n  }\n\n  return { quotient: value, rem: _rem };\n}\n\n// Multiply two Long values and return the 128 bit value\nvar multiply64x2 = function(left, right) {\n  if(!left && !right) {\n    return {high: Long.fromNumber(0), low: Long.fromNumber(0)};\n  }\n\n  var leftHigh = left.shiftRightUnsigned(32);\n  var leftLow = new Long(left.getLowBits(), 0);\n  var rightHigh = right.shiftRightUnsigned(32);\n  var rightLow = new Long(right.getLowBits(), 0);\n\n  var productHigh = leftHigh.multiply(rightHigh);\n  var productMid = leftHigh.multiply(rightLow);\n  var productMid2 = leftLow.multiply(rightHigh);\n  var productLow = leftLow.multiply(rightLow);\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productMid = new Long(productMid.getLowBits(), 0)\n                .add(productMid2)\n                .add(productLow.shiftRightUnsigned(32));\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productLow = productMid.shiftLeft(32).add(new Long(productLow.getLowBits(), 0));\n\n  // Return the 128 bit result\n  return {high: productHigh, low: productLow};\n}\n\nvar lessThan = function(left, right) {\n  // Make values unsigned\n  var uhleft = left.high_ >>> 0;\n  var uhright = right.high_ >>> 0;\n\n  // Compare high bits first\n  if(uhleft < uhright) {\n    return true\n  } else if(uhleft == uhright) {\n    var ulleft = left.low_ >>> 0;\n    var ulright = right.low_ >>> 0;\n    if(ulleft < ulright) return true;\n  }\n\n  return false;\n}\n\nvar longtoHex = function(value) {\n  var buffer = new Buffer(8);\n  var index = 0;\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = value.low_ & 0xff;\n  buffer[index++] = (value.low_ >> 8) & 0xff;\n  buffer[index++] = (value.low_ >> 16) & 0xff;\n  buffer[index++] = (value.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = value.high_ & 0xff;\n  buffer[index++] = (value.high_ >> 8) & 0xff;\n  buffer[index++] = (value.high_ >> 16) & 0xff;\n  buffer[index++] = (value.high_ >> 24) & 0xff;\n  return buffer.reverse().toString('hex');\n}\n\nvar int32toHex = function(value) {\n  var buffer = new Buffer(4);\n  var index = 0;\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = value & 0xff;\n  buffer[index++] = (value >> 8) & 0xff;\n  buffer[index++] = (value >> 16) & 0xff;\n  buffer[index++] = (value >> 24) & 0xff;\n  return buffer.reverse().toString('hex');\n}\n\n/**\n * A class representation of the BSON Decimal128 type.\n *\n * @class\n * @param {Buffer} bytes A buffer representing the Decimal128 bytes.\n * @return {Decimal128}\n */\nvar Decimal128 = function(bytes) {\n  this._bsontype = 'Decimal128';\n  this.bytes = bytes;\n}\n\n/**\n * Creates a Decimal128 instance from a string representation.\n *\n * @method\n * @param {String} string A string representing a Decimal128 value.\n */\nDecimal128.fromString = function(string) {\n  // Parse state tracking\n  var isNegative = false;\n  var sawRadix = false;\n  var foundNonZero = false;\n\n  // Total number of significant digits (no leading or trailing zero)\n  var significantDigits = 0;\n  // Total number of significand digits read\n  var nDigitsRead = 0;\n  // Total number of digits (no leading zeros)\n  var nDigits = 0;\n  // The number of the digits after radix\n  var radixPosition = 0;\n  // The index of the first non-zero in *str*\n  var firstNonZero = 0;\n\n  // Digits Array\n  var digits = [0];\n  // The number of digits in digits\n  var nDigitsStored = 0;\n  // Insertion pointer for digits\n  var digitsInsert = 0;\n  // The index of the first non-zero digit\n  var firstDigit = 0;\n  // The index of the last digit\n  var lastDigit = 0;\n\n  // Exponent\n  var exponent = 0;\n  // loop index over array\n  var i = 0;\n  // The high 17 digits of the significand\n  var significandHigh = [0, 0];\n  // The low 17 digits of the significand\n  var significandLow = [0, 0];\n  // The biased exponent\n  var biasedExponent = 0;\n\n  // Read index\n  var index = 0;\n\n  // Trim the string\n  string = string.trim();\n\n  // Results\n  var stringMatch = string.match(PARSE_STRING_REGEXP);\n  var infMatch = string.match(PARSE_INF_REGEXP);\n  var nanMatch = string.match(PARSE_NAN_REGEXP);\n\n  // Validate the string\n  if(!stringMatch\n    && ! infMatch\n    && ! nanMatch || string.length == 0) {\n      throw new Error(\"\" + string + \" not a valid Decimal128 string\");\n  }\n\n  // Check if we have an illegal exponent format\n  if(stringMatch && stringMatch[4] && stringMatch[2] === undefined) {\n    throw new Error(\"\" + string + \" not a valid Decimal128 string\");\n  }\n\n  // Get the negative or positive sign\n  if(string[index] == '+' || string[index] == '-') {\n    isNegative = string[index++] == '-';\n  }\n\n  // Check if user passed Infinity or NaN\n  if(!isDigit(string[index]) && string[index] != '.') {\n    if(string[index] == 'i' || string[index] == 'I') {\n      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n    } else if(string[index] == 'N') {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n  }\n\n  // Read all the digits\n  while(isDigit(string[index]) || string[index] == '.') {\n    if(string[index] == '.') {\n      if(sawRadix) {\n        return new Decimal128(new Buffer(NAN_BUFFER));\n      }\n\n      sawRadix = true;\n      index = index + 1;\n      continue;\n    }\n\n    if(nDigitsStored < 34) {\n      if(string[index] != '0' || foundNonZero) {\n        if(!foundNonZero) {\n          firstNonZero = nDigitsRead;\n        }\n\n        foundNonZero = true;\n\n        // Only store 34 digits\n        digits[digitsInsert++] = parseInt(string[index], 10);\n        nDigitsStored = nDigitsStored + 1;\n      }\n    }\n\n    if(foundNonZero) {\n      nDigits = nDigits + 1;\n    }\n\n    if(sawRadix) {\n      radixPosition = radixPosition + 1;\n    }\n\n    nDigitsRead = nDigitsRead + 1;\n    index = index + 1;\n  }\n\n  if(sawRadix && !nDigitsRead) {\n    throw new Error(\"\" + string + \" not a valid Decimal128 string\");\n  }\n\n  // Read exponent if exists\n  if(string[index] == 'e' || string[index] == 'E') {\n    // Read exponent digits\n    var match = string.substr(++index).match(EXPONENT_REGEX);\n\n    // No digits read\n    if(!match || !match[2]) {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n\n    // Get exponent\n    exponent = parseInt(match[0], 10);\n\n    // Adjust the index\n    index = index + match[0].length;\n  }\n\n  // Return not a number\n  if(string[index]) {\n    return new Decimal128(new Buffer(NAN_BUFFER));\n  }\n\n  // Done reading input\n  // Find first non-zero digit in digits\n  firstDigit = 0;\n\n  if(!nDigitsStored) {\n    firstDigit = 0;\n    lastDigit = 0;\n    digits[0] = 0;\n    nDigits = 1;\n    nDigitsStored = 1;\n    significantDigits = 0;\n  } else {\n    lastDigit = nDigitsStored - 1;\n    significantDigits = nDigits;\n\n    if(exponent != 0 && significantDigits != 1) {\n      while(string[firstNonZero + significantDigits - 1] == '0') {\n        significantDigits = significantDigits - 1;\n      }\n    }\n  }\n\n  // Normalization of exponent\n  // Correct exponent based on radix position, and shift significand as needed\n  // to represent user input\n\n  // Overflow prevention\n  if(exponent <= radixPosition && radixPosition - exponent > (1 << 14)) {\n    exponent = EXPONENT_MIN;\n  } else {\n    exponent = exponent - radixPosition;\n  }\n\n  // Attempt to normalize the exponent\n  while(exponent > EXPONENT_MAX) {\n    // Shift exponent to significand and decrease\n    lastDigit = lastDigit + 1;\n\n    if(lastDigit - firstDigit > MAX_DIGITS) {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if(digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      } else {\n        return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n      }\n    }\n\n    exponent = exponent - 1;\n  }\n\n  while(exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n    // Shift last digit\n    if(lastDigit == 0) {\n      exponent = EXPONENT_MIN;\n      significantDigits = 0;\n      break;\n    }\n\n    if(nDigitsStored < nDigits) {\n      // adjust to match digits not stored\n      nDigits = nDigits - 1;\n    } else {\n      // adjust to round\n      lastDigit = lastDigit - 1;\n    }\n\n    if(exponent < EXPONENT_MAX) {\n      exponent = exponent + 1;\n    } else {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if(digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      } else {\n        return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER))\n      }\n    }\n  }\n\n  // Round\n  // We've normalized the exponent, but might still need to round.\n  if((lastDigit - firstDigit + 1 < significantDigits) && string[significantDigits] != '0') {\n    var endOfString = nDigitsRead;\n\n    // If we have seen a radix point, 'string' is 1 longer than we have\n    // documented with ndigits_read, so inc the position of the first nonzero\n    // digit and the position that digits are read to.\n    if(sawRadix && exponent == EXPONENT_MIN) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n\n    var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n    var roundBit = 0;\n\n    if(roundDigit >= 5) {\n      roundBit = 1;\n\n      if(roundDigit == 5) {\n        roundBit = digits[lastDigit] % 2 == 1;\n\n        for(var i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n          if(parseInt(string[i], 10)) {\n            roundBit = 1;\n            break;\n          }\n        }\n      }\n    }\n\n    if(roundBit) {\n      var dIdx = lastDigit;\n\n      for(; dIdx >= 0; dIdx--) {\n        if(++digits[dIdx] > 9) {\n          digits[dIdx] = 0;\n\n          // overflowed most significant digit\n          if(dIdx == 0) {\n            if(exponent < EXPONENT_MAX) {\n              exponent = exponent + 1;\n              digits[dIdx] = 1;\n            } else {\n              return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER))\n            }\n          }\n        } else {\n          break;\n        }\n      }\n    }\n  }\n\n  // Encode significand\n  // The high 17 digits of the significand\n  significandHigh = Long.fromNumber(0);\n  // The low 17 digits of the significand\n  significandLow = Long.fromNumber(0);\n\n  // read a zero\n  if(significantDigits == 0) {\n    significandHigh = Long.fromNumber(0);\n    significandLow = Long.fromNumber(0);\n  } else if(lastDigit - firstDigit < 17) {\n    var dIdx = firstDigit;\n    significandLow = Long.fromNumber(digits[dIdx++]);\n    significandHigh = new Long(0, 0);\n\n    for(; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  } else {\n    var dIdx = firstDigit;\n    significandHigh = Long.fromNumber(digits[dIdx++]);\n\n    for(; dIdx <= lastDigit - 17; dIdx++) {\n      significandHigh = significandHigh.multiply(Long.fromNumber(10));\n      significandHigh = significandHigh.add(Long.fromNumber(digits[dIdx]));\n    }\n\n    significandLow = Long.fromNumber(digits[dIdx++]);\n\n    for(; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  }\n\n  var significand = multiply64x2(significandHigh, Long.fromString(\"100000000000000000\"));\n\n  significand.low = significand.low.add(significandLow);\n\n  if(lessThan(significand.low, significandLow)) {\n    significand.high = significand.high.add(Long.fromNumber(1));\n  }\n\n  // Biased exponent\n  var biasedExponent = (exponent + EXPONENT_BIAS);\n  var dec = { low: Long.fromNumber(0), high: Long.fromNumber(0) };\n\n  // Encode combination, exponent, and significand.\n  if(significand.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber)) {\n    // Encode '11' into bits 1 to 3\n    dec.high = dec.high.or(Long.fromNumber(0x3).shiftLeft(61));\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent).and(Long.fromNumber(0x3fff).shiftLeft(47)));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x7fffffffffff)));\n  } else {\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x1ffffffffffff)));\n  }\n\n  dec.low = significand.low;\n\n  // Encode sign\n  if(isNegative) {\n    dec.high = dec.high.or(Long.fromString('9223372036854775808'));\n  }\n\n  // Encode into a buffer\n  var buffer = new Buffer(16);\n  var index = 0;\n\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.low.low_ & 0xff;\n  buffer[index++] = (dec.low.low_ >> 8) & 0xff;\n  buffer[index++] = (dec.low.low_ >> 16) & 0xff;\n  buffer[index++] = (dec.low.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.low.high_ & 0xff;\n  buffer[index++] = (dec.low.high_ >> 8) & 0xff;\n  buffer[index++] = (dec.low.high_ >> 16) & 0xff;\n  buffer[index++] = (dec.low.high_ >> 24) & 0xff;\n\n  // Encode the high 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.high.low_ & 0xff;\n  buffer[index++] = (dec.high.low_ >> 8) & 0xff;\n  buffer[index++] = (dec.high.low_ >> 16) & 0xff;\n  buffer[index++] = (dec.high.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.high.high_ & 0xff;\n  buffer[index++] = (dec.high.high_ >> 8) & 0xff;\n  buffer[index++] = (dec.high.high_ >> 16) & 0xff;\n  buffer[index++] = (dec.high.high_ >> 24) & 0xff;\n\n  // Return the new Decimal128\n  return new Decimal128(buffer);\n}\n\nDecimal128.prototype.toString = function() {\n  // Note: bits in this routine are referred to starting at 0,\n  // from the sign bit, towards the coefficient.\n\n  // bits 0 - 31\n  var high;\n  // bits 32 - 63\n  var midh;\n  // bits 64 - 95\n  var midl;\n  // bits 96 - 127\n  var low;\n  // bits 1 - 5\n  var combination;\n  // decoded biased exponent (14 bits)\n  var biased_exponent;\n  // the number of significand digits\n  var significand_digits = 0;\n  // the base-10 digits in the significand\n  var significand = new Array(36);\n  for(var i = 0; i < significand.length; i++) significand[i] = 0;\n  // read pointer into significand\n  var index = 0;\n\n  // unbiased exponent\n  var exponent;\n  // the exponent if scientific notation is used\n  var scientific_exponent;\n\n  // true if the number is zero\n  var is_zero = false;\n\n  // the most signifcant significand bits (50-46)\n  var significand_msb;\n  // temporary storage for significand decoding\n  var significand128 = {parts: new Array(4)};\n  // indexing variables\n  var i;\n  var j, k;\n\n  // Output string\n  var string = [];\n\n  // Unpack index\n  var index = 0;\n\n  // Buffer reference\n  var buffer = this.bytes;\n\n  // Unpack the low 64bits into a long\n  low = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  midl = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack the high 64bits into a long\n  midh = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  high = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack index\n  var index = 0;\n\n  // Create the state of the decimal\n  var dec = {\n    low: new Long(low, midl),\n    high: new Long(midh, high) };\n\n  if(dec.high.lessThan(Long.ZERO)) {\n    string.push('-');\n  }\n\n  // Decode combination field and exponent\n  combination = (high >> 26) & COMBINATION_MASK;\n\n  if((combination >> 3) == 3) {\n    // Check for 'special' values\n    if(combination == COMBINATION_INFINITY) {\n      return string.join('') + \"Infinity\";\n    } else if(combination == COMBINATION_NAN) {\n      return \"NaN\";\n    } else {\n      biased_exponent = (high >> 15) & EXPONENT_MASK;\n      significand_msb = 0x08 + ((high >> 14) & 0x01);\n    }\n  } else {\n    significand_msb = (high >> 14) & 0x07;\n    biased_exponent = (high >> 17) & EXPONENT_MASK;\n  }\n\n  exponent = biased_exponent - EXPONENT_BIAS;\n\n  // Create string of significand digits\n\n  // Convert the 114-bit binary number represented by\n  // (significand_high, significand_low) to at most 34 decimal\n  // digits through modulo and division.\n  significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n  significand128.parts[1] = midh;\n  significand128.parts[2] = midl;\n  significand128.parts[3] = low;\n\n  if(significand128.parts[0] == 0 && significand128.parts[1] == 0\n    && significand128.parts[2] == 0 && significand128.parts[3] == 0) {\n      is_zero = true;\n  } else {\n    for(var k = 3; k >= 0; k--) {\n      var least_digits = 0;\n      // Peform the divide\n      var result = divideu128(significand128);\n      significand128 = result.quotient;\n      least_digits = result.rem.low_;\n\n      // We now have the 9 least significant digits (in base 2).\n      // Convert and output to string.\n      if(!least_digits) continue;\n\n      for(var j = 8; j >= 0; j--) {\n        // significand[k * 9 + j] = Math.round(least_digits % 10);\n        significand[k * 9 + j] = least_digits % 10;\n        // least_digits = Math.round(least_digits / 10);\n        least_digits = Math.floor(least_digits / 10);\n      }\n    }\n  }\n\n  // Output format options:\n  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n  // Regular    - ddd.ddd\n\n  if(is_zero) {\n    significand_digits = 1;\n    significand[index] = 0;\n  } else {\n    significand_digits = 36;\n    var i = 0;\n\n    while(!significand[index]) {\n      i++;\n      significand_digits = significand_digits - 1;\n      index = index + 1;\n    }\n  }\n\n  scientific_exponent = significand_digits - 1 + exponent;\n\n  // The scientific exponent checks are dictated by the string conversion\n  // specification and are somewhat arbitrary cutoffs.\n  //\n  // We must check exponent > 0, because if this is the case, the number\n  // has trailing zeros.  However, we *cannot* output these trailing zeros,\n  // because doing so would change the precision of the value, and would\n  // change stored data if the string converted number is round tripped.\n\n  if(scientific_exponent >= 34 || scientific_exponent <= -7 ||\n    exponent > 0) {\n    // Scientific format\n    string.push(significand[index++]);\n    significand_digits = significand_digits - 1;\n\n    if(significand_digits) {\n      string.push('.');\n    }\n\n    for(var i = 0; i < significand_digits; i++) {\n      string.push(significand[index++]);\n    }\n\n    // Exponent\n    string.push('E');\n    if(scientific_exponent > 0) {\n      string.push('+' + scientific_exponent);\n    } else {\n      string.push(scientific_exponent);\n    }\n  } else {\n    // Regular format with no decimal place\n    if(exponent >= 0) {\n      for(var i = 0; i < significand_digits; i++) {\n        string.push(significand[index++]);\n      }\n    } else {\n      var radix_position = significand_digits + exponent;\n\n      // non-zero digits before radix\n      if(radix_position > 0) {\n        for(var i = 0; i < radix_position; i++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        string.push('0');\n      }\n\n      string.push('.');\n      // add leading zeros after radix\n      while(radix_position++ < 0) {\n        string.push('0');\n      }\n\n      for(var i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n        string.push(significand[index++]);\n      }\n    }\n  }\n\n  return string.join('');\n}\n\nDecimal128.prototype.equals = function(value) {\n  if(!value.bytes) return false;\n  return this.bytes.toString('hex') == value.bytes.toString('hex');\n}\n\nDecimal128.prototype.toJSON = function() {\n  return { \"$numberDecimal\": this.toString() };\n}\n\nmodule.exports = Decimal128;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/decimal128.js","// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * Defines a Long class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n * implementation is derived from LongLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Longs.\n *\n * The internal representation of a Long is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Long.\n * @param {number} high the high (signed) 32 bits of the Long.\n * @return {Long}\n */\nvar Long = function(low, high) {\n  this._bsontype = 'Long';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0;  // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0;  // force into 32 signed bits.\n}\n\n/**\n * Return the int value.\n *\n * @method\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nLong.prototype.toInt = function() {\n  return this.low_;\n}\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nLong.prototype.toNumber = function() {\n  return this.high_ * Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();\n}\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {String} the JSON representation.\n */\nLong.prototype.toJSON = function() {\n  return { $numberLong: this.toString() };\n}\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {String} the textual representation of this value.\n */\nLong.prototype.toString = function(opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      // We need to change the Long value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixLong = Long.fromNumber(radix);\n      var div = this.div(radixLong);\n      var rem = div.multiply(radixLong).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 6));\n\n  var rem = this;\n  var result = '';\n  while (true) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nLong.prototype.getHighBits = function() {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nLong.prototype.getLowBits = function() {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nLong.prototype.getLowBitsUnsigned = function() {\n  return (this.low_ >= 0) ?\n      this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Long.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Long.\n */\nLong.prototype.getNumBitsAbs = function() {\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ != 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & (1 << bit)) != 0) {\n        break;\n      }\n    }\n    return this.high_ != 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {Boolean} whether this value is zero.\n */\nLong.prototype.isZero = function() {\n  return this.high_ == 0 && this.low_ == 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {Boolean} whether this value is negative.\n */\nLong.prototype.isNegative = function() {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {Boolean} whether this value is odd.\n */\nLong.prototype.isOdd = function() {\n  return (this.low_ & 1) == 1;\n};\n\n/**\n * Return whether this Long equals the other\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} whether this Long equals the other\n */\nLong.prototype.equals = function(other) {\n  return (this.high_ == other.high_) && (this.low_ == other.low_);\n};\n\n/**\n * Return whether this Long does not equal the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} whether this Long does not equal the other.\n */\nLong.prototype.notEquals = function(other) {\n  return (this.high_ != other.high_) || (this.low_ != other.low_);\n};\n\n/**\n * Return whether this Long is less than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} whether this Long is less than the other.\n */\nLong.prototype.lessThan = function(other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Long is less than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} whether this Long is less than or equal to the other.\n */\nLong.prototype.lessThanOrEqual = function(other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Long is greater than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} whether this Long is greater than the other.\n */\nLong.prototype.greaterThan = function(other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Long is greater than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} whether this Long is greater than or equal to the other.\n */\nLong.prototype.greaterThanOrEqual = function(other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Long with the given one.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {Boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nLong.prototype.compare = function(other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Long} the negation of this value.\n */\nLong.prototype.negate = function() {\n  if (this.equals(Long.MIN_VALUE)) {\n    return Long.MIN_VALUE;\n  } else {\n    return this.not().add(Long.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Long.\n *\n * @method\n * @param {Long} other Long to add to this one.\n * @return {Long} the sum of this and the given Long.\n */\nLong.prototype.add = function(other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 + b48;\n  c48 &= 0xFFFF;\n  return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns the difference of this and the given Long.\n *\n * @method\n * @param {Long} other Long to subtract from this.\n * @return {Long} the difference of this and the given Long.\n */\nLong.prototype.subtract = function(other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Long.\n *\n * @method\n * @param {Long} other Long to multiply with this.\n * @return {Long} the product of this and the other.\n */\nLong.prototype.multiply = function(other) {\n  if (this.isZero()) {\n    return Long.ZERO;\n  } else if (other.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate().multiply(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Longs are small, use float multiplication\n  if (this.lessThan(Long.TWO_PWR_24_) &&\n      other.lessThan(Long.TWO_PWR_24_)) {\n    return Long.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xFFFF;\n  return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns this Long divided by the given one.\n *\n * @method\n * @param {Long} other Long by which to divide.\n * @return {Long} this Long divided by the given one.\n */\nLong.prototype.div = function(other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    if (other.equals(Long.ONE) ||\n        other.equals(Long.NEG_ONE)) {\n      return Long.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return Long.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Long.ZERO)) {\n        return other.isNegative() ? Long.ONE : Long.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate().div(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Long.ZERO;\n  var rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = (log2 <= 48) ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Long.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Long.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Long.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Long modulo the given one.\n *\n * @method\n * @param {Long} other Long by which to mod.\n * @return {Long} this Long modulo the given one.\n */\nLong.prototype.modulo = function(other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Long} the bitwise-NOT of this value.\n */\nLong.prototype.not = function() {\n  return Long.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to AND.\n * @return {Long} the bitwise-AND of this and the other.\n */\nLong.prototype.and = function(other) {\n  return Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to OR.\n * @return {Long} the bitwise-OR of this and the other.\n */\nLong.prototype.or = function(other) {\n  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to XOR.\n * @return {Long} the bitwise-XOR of this and the other.\n */\nLong.prototype.xor = function(other) {\n  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Long with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the left by the given amount.\n */\nLong.prototype.shiftLeft = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Long.fromBits(\n                 low << numBits,\n                 (high << numBits) | (low >>> (32 - numBits)));\n    } else {\n      return Long.fromBits(0, low << (numBits - 32));\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount.\n */\nLong.prototype.shiftRight = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >> numBits);\n    } else {\n      return Long.fromBits(\n                 high >> (numBits - 32),\n                 high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nLong.prototype.shiftRightUnsigned = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >>> numBits);\n    } else if (numBits == 32) {\n      return Long.fromBits(high, 0);\n    } else {\n      return Long.fromBits(high >>> (numBits - 32), 0);\n    }\n  }\n};\n\n/**\n * Returns a Long representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromInt = function(value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Long.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Long(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Long.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromNumber = function(value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Long.ZERO;\n  } else if (value <= -Long.TWO_PWR_63_DBL_) {\n    return Long.MIN_VALUE;\n  } else if (value + 1 >= Long.TWO_PWR_63_DBL_) {\n    return Long.MAX_VALUE;\n  } else if (value < 0) {\n    return Long.fromNumber(-value).negate();\n  } else {\n    return new Long(\n               (value % Long.TWO_PWR_32_DBL_) | 0,\n               (value / Long.TWO_PWR_32_DBL_) | 0);\n  }\n};\n\n/**\n * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Long} the corresponding Long value.\n */\nLong.fromBits = function(lowBits, highBits) {\n  return new Long(lowBits, highBits);\n};\n\n/**\n * Returns a Long representation of the given string, written using the given radix.\n *\n * @method\n * @param {String} str the textual representation of the Long.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Long} the corresponding Long value.\n */\nLong.fromString = function(str, opt_radix) {\n  if (str.length == 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) == '-') {\n    return Long.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 8));\n\n  var result = Long.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Long.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Long.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Long.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n\n/**\n * A cache of the Long representations of small integer values.\n * @type {Object}\n * @ignore\n */\nLong.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_32_DBL_ = Long.TWO_PWR_16_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_31_DBL_ = Long.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_48_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_64_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_63_DBL_ = Long.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Long} */\nLong.ZERO = Long.fromInt(0);\n\n/** @type {Long} */\nLong.ONE = Long.fromInt(1);\n\n/** @type {Long} */\nLong.NEG_ONE = Long.fromInt(-1);\n\n/** @type {Long} */\nLong.MAX_VALUE =\n    Long.fromBits(0xFFFFFFFF | 0, 0x7FFFFFFF | 0);\n\n/** @type {Long} */\nLong.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Long}\n * @ignore\n */\nLong.TWO_PWR_24_ = Long.fromInt(1 << 24);\n\nmodule.exports = Long;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/long.js","/**\n * A class representation of the BSON Double type.\n *\n * @class\n * @param {number} value the number we want to represent as a double.\n * @return {Double}\n */\nvar Double = function(value) {\n  this._bsontype = 'Double';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped double number.\n */\nDouble.prototype.valueOf = function() {\n  return this.value;\n}\n\nDouble.prototype.equals = function(value) {\n  if(!value) return false;\n  if(typeof value !== 'number' && value._bsontype != 'Double') return false;\n  if(typeof value === 'number') return this.value === value;\n  return this.value === value.value;\n}\n\nDouble.prototype.toJSON = function() {\n  return { $numberDouble: this.value.toString() };\n}\n\nmodule.exports = Double;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/double.js","/**\n * A class representation of the BSON Int32 type.\n *\n * @class\n * @param {number} value the number we want to represent as an int32.\n * @return {Int32}\n */\nvar Int32 = function(value) {\n  this._bsontype = 'Int32';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped int32 number.\n */\nInt32.prototype.valueOf = function() {\n  return this.value;\n}\n\nInt32.prototype.equals = function(value) {\n  if(!value) return false;\n  if(typeof value !== 'number' && value._bsontype != 'Int32') return false;\n  if(typeof value === 'number') return this.value === value;\n  return this.value === value.value;\n}\n\nInt32.prototype.toJSON = function() {\n  return { $numberInt: this.value.toString() };\n}\n\nmodule.exports = Int32;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/int_32.js","/**\n * A class representation of the BSON MaxKey type.\n *\n * @class\n * @return {MaxKey} A MaxKey instance\n */\nvar MaxKey = function() {\n  this._bsontype = 'MaxKey';\n}\n\nMaxKey.prototype.equals = function(value) {\n  if(!value || value._bsontype != 'MaxKey') return false;\n  return true;\n}\n\nMaxKey.prototype.toJSON = function() {\n  return { $maxKey: 1 };\n}\n\nmodule.exports = MaxKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/max_key.js","/**\n * A class representation of the BSON MinKey type.\n *\n * @class\n * @return {MinKey} A MinKey instance\n */\nvar MinKey = function() {\n  this._bsontype = 'MinKey';\n}\n\nMinKey.prototype.equals = function(value) {\n  if(!value || value._bsontype != 'MinKey') return false;\n  return true;\n}\n\nMinKey.prototype.toJSON = function() {\n  return { $minKey: 1 };\n}\n\nmodule.exports = MinKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/min_key.js","/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\nvar MACHINE_ID = parseInt(Math.random() * 0xFFFFFF, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp(\"^[0-9a-fA-F]{24}$\");\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n  hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n// Lookup tables\nvar encodeLookup = '0123456789abcdef'.split('')\nvar decodeLookup = []\nvar i = 0\nwhile (i < 10) decodeLookup[0x30 + i] = i++\nwhile (i < 16) decodeLookup[0x61 - 10 + i] = i++\n\nvar convertToHex = function(bytes) {\n  let hexString = '';\n\n  for (var i = 0; i < bytes.length; i++) {\n    hexString += hexTable[bytes[i]];\n  }\n\n  return hexString;\n}\n\n/**\n* Create a new ObjectID instance\n*\n* @class\n* @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n* @property {number} generationTime The generation time of this ObjectId instance\n* @return {ObjectID} instance of ObjectID.\n*/\nvar ObjectID = function(id) {\n  // Duck-typing to support ObjectId from different npm packages\n  if(id instanceof ObjectID) return id;\n  if(!(this instanceof ObjectID)) return new ObjectID(id);\n\n  this._bsontype = 'ObjectID';\n\n  var __id = null;\n  var valid = ObjectID.isValid(id);\n\n  // Throw an error if it's not a valid setup\n  if(!valid && id != null){\n    throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");\n  } else if(valid && typeof id == 'string' && id.length == 24) {\n    return ObjectID.createFromHexString(id);\n  } else if(id == null || typeof id == 'number') {\n    // convert to 12 byte binary string\n    this.id = this.generate(id);\n  } else if(id != null && id.length === 12) {\n    // assume 12 byte string\n    this.id = id;\n  } else if(id != null && id.toHexString) {\n    // Duck-typing to support ObjectId from different npm packages\n    return id;\n  } else {\n    throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");\n  }\n\n  if(ObjectID.cacheHexString) this.__id = this.toHexString();\n}\n\n/**\n* Return the ObjectID id as a 24 byte hex string representation\n*\n* @method\n* @return {String} return the 24 byte hex string representation.\n*/\nObjectID.prototype.toHexString = function() {\n  if(ObjectID.cacheHexString && this.__id) return this.__id;\n\n  var hexString = '';\n  if(!this.id || !this.id.length) {\n    throw new Error('invalid ObjectId, ObjectId.id must be either a string or a Uint8Array, but is [' + JSON.stringify(this.id) + ']');\n  }\n\n  if(this.id instanceof Uint8Array) {\n    hexString = convertToHex(this.id);\n    if(ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n  }\n\n  for (var i = 0; i < this.id.length; i++) {\n    hexString += hexTable[this.id.charCodeAt(i)];\n  }\n\n  if(ObjectID.cacheHexString) this.__id = hexString;\n  return hexString;\n}\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.getInc = function() {\n  return ObjectID.index = (ObjectID.index + 1) % 0xFFFFFF;\n}\n\n/**\n* Generate a 12 byte id buffer used in ObjectID's\n*\n* @method\n* @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n* @return {Buffer} return the 12 byte id buffer string.\n*/\nObjectID.prototype.generate = function(time) {\n  if ('number' != typeof time) {\n    time = ~~(Date.now()/1000);\n  }\n\n  // Use pid\n  var pid = (typeof process === 'undefined' ? Math.floor(Math.random() * 100000) : process.pid) % 0xFFFF;\n  var inc = this.getInc();\n  // Buffer used\n  var buffer = new Uint8Array(12);\n  // Encode time\n  buffer[3] = time & 0xff;\n  buffer[2] = (time >> 8) & 0xff;\n  buffer[1] = (time >> 16) & 0xff;\n  buffer[0] = (time >> 24) & 0xff;\n  // Encode machine\n  buffer[6] = MACHINE_ID & 0xff;\n  buffer[5] = (MACHINE_ID >> 8) & 0xff;\n  buffer[4] = (MACHINE_ID >> 16) & 0xff;\n  // Encode pid\n  buffer[8] = pid & 0xff;\n  buffer[7] = (pid >> 8) & 0xff;\n  // Encode index\n  buffer[11] = inc & 0xff;\n  buffer[10] = (inc >> 8) & 0xff;\n  buffer[9] = (inc >> 16) & 0xff;\n  // Return the buffer\n  return buffer;\n}\n\n/**\n* Converts the id into a 24 byte hex string for printing\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toString = function() {\n  return this.toHexString();\n}\n\n/**\n* Converts to its JSON representation.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toJSON = function() {\n  return { $oid: this.toHexString() };\n}\n\n/**\n* Compares the equality of this ObjectID with `otherID`.\n*\n* @method\n* @param {Object} otherID ObjectID instance to compare against.\n* @return {Boolean} the result of comparing two ObjectID's\n*/\nObjectID.prototype.equals = function(otherId) {\n  var id;\n\n  if(otherId instanceof ObjectID) {\n    return this.toString() == otherId.toString();\n  } else if(typeof otherId == 'string' && ObjectID.isValid(otherId) && otherId.length == 12 && this.id instanceof Uint8Array) {\n    return otherId === this.id.toString('binary');\n  } else if(typeof otherId == 'string' && ObjectID.isValid(otherId) && otherId.length == 24) {\n    return otherId === this.toHexString();\n  } else if(typeof otherId == 'string' && ObjectID.isValid(otherId) && otherId.length == 12) {\n    return otherId === this.id;\n  } else if(otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n    return otherId.toHexString() === this.toHexString();\n  } else {\n    return false;\n  }\n}\n\n/**\n* Returns the generation date (accurate up to the second) that this ID was generated.\n*\n* @method\n* @return {date} the generation date\n*/\nObjectID.prototype.getTimestamp = function() {\n  var timestamp = new Date();\n  var time = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  timestamp.setTime(Math.floor(time) * 1000);\n  return timestamp;\n}\n\n/**\n* Creates an ObjectID from a hex string representation of an ObjectID.\n*\n* @method\n* @param {String} hexString create a ObjectID from a passed in 24 byte hexstring.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromHexString = function(string) {\n  // Throw an error if it's not a valid setup\n  if(typeof string === 'undefined' || string != null && string.length != 24)\n    throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");\n\n  var length = string.length;\n\n  if(length > 12*2) {\n    throw new Error('Id cannot be longer than 12 bytes');\n  }\n\n  // Calculate lengths\n  var sizeof = length >> 1;\n  var array = new Uint8Array(sizeof);\n  var n = 0;\n  var i = 0;\n\n  while (i < length) {\n    array[n++] = decodeLookup[string.charCodeAt(i++)] << 4 | decodeLookup[string.charCodeAt(i++)]\n  }\n\n  return new ObjectID(array);\n}\n\n/**\n* Checks if a value is a valid bson ObjectId\n*\n* @method\n* @return {Boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n*/\nObjectID.isValid = function(id) {\n  if(id == null) return false;\n\n  if(typeof id == 'number') {\n    return true;\n  }\n\n  if(typeof id == 'string') {\n    return id.length == 12 || (id.length == 24 && checkForHexRegExp.test(id));\n  }\n\n  if(id instanceof ObjectID) {\n    return true;\n  }\n\n  if(id instanceof Uint8Array) {\n    return true;\n  }\n\n  // Duck-Typing detection of ObjectId like objects\n  if(id.toHexString) {\n    return id.id.length == 12 || (id.id.length == 24 && checkForHexRegExp.test(id.id));\n  }\n\n  return false;\n}\n\n/**\n* @ignore\n*/\nObjectID.createPk = function() {\n  return new ObjectID();\n}\n\n/**\n* Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n*\n* @method\n* @param {number} time an integer number representing a number of seconds.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromTime = function(time) {\n  var buffer = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  // Encode time into first 4 bytes\n  buffer[3] = time & 0xff;\n  buffer[2] = (time >> 8) & 0xff;\n  buffer[1] = (time >> 16) & 0xff;\n  buffer[0] = (time >> 24) & 0xff;\n  // Return the new objectId\n  return new ObjectID(buffer);\n}\n\n/**\n* @ignore\n*/\nObject.defineProperty(ObjectID.prototype, \"generationTime\", {\n   enumerable: true\n , get: function () {\n     return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n   }\n , set: function (value) {\n     // Encode time into first 4 bytes\n     this.id[3] = value & 0xff;\n     this.id[2] = (value >> 8) & 0xff;\n     this.id[1] = (value >> 16) & 0xff;\n     this.id[0] = (value >> 24) & 0xff;\n   }\n});\n\n/**\n* @ignore\n*/\nObjectID.index = ~~(Math.random() * 0xFFFFFF);\n\nmodule.exports = ObjectID;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/objectid.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","/**\n * A class representation of the BSON RegExp type.\n *\n * @class\n * @return {BSONRegExp} A MinKey instance\n */\nvar BSONRegExp = function(pattern, options) {\n  // Execute\n  this._bsontype = 'BSONRegExp';\n  this.pattern = pattern;\n  this.options = options || '';\n  // Perform validation of parameters\n  if(typeof this.pattern != 'string') throw Error('pattern must be a string');\n  if(typeof this.options != 'string') throw Error('options must be a string');\n\n  // Validate options\n  for(var i = 0; i < options.length; i++) {\n    if(!(this.options[i] == 'i'\n      || this.options[i] == 'm'\n      || this.options[i] == 'x'\n      || this.options[i] == 'l'\n      || this.options[i] == 's'\n      || this.options[i] == 'u'\n    )) {\n      throw new Error('the regular expression options [' + this.options[i] + \"] is not supported\");\n    }\n  }\n}\n\nBSONRegExp.prototype.equals = function(value) {\n  if(!value || value._bsontype != 'BSONRegExp') return false;\n  return this.pattern == value.pattern && this.options == value.options;\n}\n\nBSONRegExp.prototype.toJSON = function() {\n  return { $regex: this.pattern, $options: this.options };\n}\n\nmodule.exports = BSONRegExp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/regexp.js","/**\n * A class representation of the BSON Symbol type.\n *\n * @class\n * @deprecated\n * @param {String} value the string representing the symbol.\n * @return {Symbol}\n */\nvar Symbol = function(value) {\n  this._bsontype = 'Symbol';\n  this.value = value;\n}\n\n/**\n * Access the wrapped string value.\n *\n * @method\n * @return {String} returns the wrapped string.\n */\nSymbol.prototype.valueOf = function() {\n  return this.value;\n};\n\nSymbol.prototype.equals = function(value) {\n  if(!value || !value.value) return false;\n  if(value._bsontype != 'Symbol') return false;\n  return this.value === value.value;\n}\n\n/**\n * @ignore\n */\nSymbol.prototype.toJSON = function() {\n  return { $symbol: this.value };\n}\n\nmodule.exports = Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/symbol.js","// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * Defines a Long class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n * implementation is derived from LongLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Longs.\n *\n * The internal representation of a Long is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Timestamp.\n * @param {number} high the high (signed) 32 bits of the Timestamp.\n * @return {Timestamp}\n */\nvar Timestamp = function(low, high) {\n  this._bsontype = 'Timestamp';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0;  // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0;  // force into 32 signed bits.\n}\n\n/**\n * Return the int value.\n *\n * @method\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nTimestamp.prototype.toInt = function() {\n  return this.low_;\n}\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nTimestamp.prototype.toNumber = function() {\n  return this.high_ * Timestamp.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();\n}\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {String} the JSON representation.\n */\nTimestamp.prototype.toJSON = function() {\n  return {\n    $timestamp: this.toString(),\n  };\n}\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {String} the textual representation of this value.\n */\nTimestamp.prototype.toString = function(opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Timestamp.MIN_VALUE)) {\n      // We need to change the Long value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixLong = Timestamp.fromNumber(radix);\n      var div = this.div(radixLong);\n      var rem = div.multiply(radixLong).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 6));\n\n  var rem = this;\n  var result = '';\n  while (true) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nTimestamp.prototype.getHighBits = function() {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nTimestamp.prototype.getLowBits = function() {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nTimestamp.prototype.getLowBitsUnsigned = function() {\n  return (this.low_ >= 0) ?\n      this.low_ : Timestamp.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Timestamp.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Timestamp.\n */\nTimestamp.prototype.getNumBitsAbs = function() {\n  if (this.isNegative()) {\n    if (this.equals(Timestamp.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ != 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & (1 << bit)) != 0) {\n        break;\n      }\n    }\n    return this.high_ != 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {Boolean} whether this value is zero.\n */\nTimestamp.prototype.isZero = function() {\n  return this.high_ == 0 && this.low_ == 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {Boolean} whether this value is negative.\n */\nTimestamp.prototype.isNegative = function() {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {Boolean} whether this value is odd.\n */\nTimestamp.prototype.isOdd = function() {\n  return (this.low_ & 1) == 1;\n};\n\n/**\n * Return whether this Long equals the other\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} whether this Long equals the other\n */\nTimestamp.prototype.equals = function(other) {\n  return (this.high_ == other.high_) && (this.low_ == other.low_);\n};\n\n/**\n * Return whether this Long does not equal the other.\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} whether this Long does not equal the other.\n */\nTimestamp.prototype.notEquals = function(other) {\n  return (this.high_ != other.high_) || (this.low_ != other.low_);\n};\n\n/**\n * Return whether this Long is less than the other.\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} whether this Long is less than the other.\n */\nTimestamp.prototype.lessThan = function(other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Long is less than or equal to the other.\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} whether this Long is less than or equal to the other.\n */\nTimestamp.prototype.lessThanOrEqual = function(other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Long is greater than the other.\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} whether this Long is greater than the other.\n */\nTimestamp.prototype.greaterThan = function(other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Long is greater than or equal to the other.\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} whether this Long is greater than or equal to the other.\n */\nTimestamp.prototype.greaterThanOrEqual = function(other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Long with the given one.\n *\n * @method\n * @param {Timestamp} other Long to compare against.\n * @return {Boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nTimestamp.prototype.compare = function(other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Timestamp} the negation of this value.\n */\nTimestamp.prototype.negate = function() {\n  if (this.equals(Timestamp.MIN_VALUE)) {\n    return Timestamp.MIN_VALUE;\n  } else {\n    return this.not().add(Timestamp.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Timestamp.\n *\n * @method\n * @param {Timestamp} other Long to add to this one.\n * @return {Timestamp} the sum of this and the given Timestamp.\n */\nTimestamp.prototype.add = function(other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 + b48;\n  c48 &= 0xFFFF;\n  return Timestamp.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns the difference of this and the given Timestamp.\n *\n * @method\n * @param {Timestamp} other Long to subtract from this.\n * @return {Timestamp} the difference of this and the given Timestamp.\n */\nTimestamp.prototype.subtract = function(other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Timestamp.\n *\n * @method\n * @param {Timestamp} other Long to multiply with this.\n * @return {Timestamp} the product of this and the other.\n */\nTimestamp.prototype.multiply = function(other) {\n  if (this.isZero()) {\n    return Timestamp.ZERO;\n  } else if (other.isZero()) {\n    return Timestamp.ZERO;\n  }\n\n  if (this.equals(Timestamp.MIN_VALUE)) {\n    return other.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;\n  } else if (other.equals(Timestamp.MIN_VALUE)) {\n    return this.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate().multiply(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Longs are small, use float multiplication\n  if (this.lessThan(Timestamp.TWO_PWR_24_) &&\n      other.lessThan(Timestamp.TWO_PWR_24_)) {\n    return Timestamp.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xFFFF;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xFFFF;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xFFFF;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xFFFF;\n\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xFFFF;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xFFFF;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xFFFF;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xFFFF;\n  return Timestamp.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns this Long divided by the given one.\n *\n * @method\n * @param {Timestamp} other Long by which to divide.\n * @return {Timestamp} this Long divided by the given one.\n */\nTimestamp.prototype.div = function(other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Timestamp.ZERO;\n  }\n\n  if (this.equals(Timestamp.MIN_VALUE)) {\n    if (other.equals(Timestamp.ONE) ||\n        other.equals(Timestamp.NEG_ONE)) {\n      return Timestamp.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Timestamp.MIN_VALUE)) {\n      return Timestamp.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Timestamp.ZERO)) {\n        return other.isNegative() ? Timestamp.ONE : Timestamp.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Timestamp.MIN_VALUE)) {\n    return Timestamp.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate().div(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Timestamp.ZERO;\n  var rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = (log2 <= 48) ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Timestamp.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Timestamp.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Timestamp.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Long modulo the given one.\n *\n * @method\n * @param {Timestamp} other Long by which to mod.\n * @return {Timestamp} this Long modulo the given one.\n */\nTimestamp.prototype.modulo = function(other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Timestamp} the bitwise-NOT of this value.\n */\nTimestamp.prototype.not = function() {\n  return Timestamp.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Long and the given one.\n *\n * @method\n * @param {Timestamp} other the Long with which to AND.\n * @return {Timestamp} the bitwise-AND of this and the other.\n */\nTimestamp.prototype.and = function(other) {\n  return Timestamp.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Long and the given one.\n *\n * @method\n * @param {Timestamp} other the Long with which to OR.\n * @return {Timestamp} the bitwise-OR of this and the other.\n */\nTimestamp.prototype.or = function(other) {\n  return Timestamp.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Long and the given one.\n *\n * @method\n * @param {Timestamp} other the Long with which to XOR.\n * @return {Timestamp} the bitwise-XOR of this and the other.\n */\nTimestamp.prototype.xor = function(other) {\n  return Timestamp.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Long with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Timestamp} this shifted to the left by the given amount.\n */\nTimestamp.prototype.shiftLeft = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Timestamp.fromBits(\n                 low << numBits,\n                 (high << numBits) | (low >>> (32 - numBits)));\n    } else {\n      return Timestamp.fromBits(0, low << (numBits - 32));\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Timestamp} this shifted to the right by the given amount.\n */\nTimestamp.prototype.shiftRight = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Timestamp.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >> numBits);\n    } else {\n      return Timestamp.fromBits(\n                 high >> (numBits - 32),\n                 high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Timestamp} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nTimestamp.prototype.shiftRightUnsigned = function(numBits) {\n  numBits &= 63;\n  if (numBits == 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Timestamp.fromBits(\n                 (low >>> numBits) | (high << (32 - numBits)),\n                 high >>> numBits);\n    } else if (numBits == 32) {\n      return Timestamp.fromBits(high, 0);\n    } else {\n      return Timestamp.fromBits(high >>> (numBits - 32), 0);\n    }\n  }\n};\n\n/**\n * Returns a Long representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Timestamp} the corresponding Long value.\n */\nTimestamp.fromInt = function(value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Timestamp.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Timestamp(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Timestamp.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Timestamp} the corresponding Long value.\n */\nTimestamp.fromNumber = function(value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Timestamp.ZERO;\n  } else if (value <= -Timestamp.TWO_PWR_63_DBL_) {\n    return Timestamp.MIN_VALUE;\n  } else if (value + 1 >= Timestamp.TWO_PWR_63_DBL_) {\n    return Timestamp.MAX_VALUE;\n  } else if (value < 0) {\n    return Timestamp.fromNumber(-value).negate();\n  } else {\n    return new Timestamp(\n               (value % Timestamp.TWO_PWR_32_DBL_) | 0,\n               (value / Timestamp.TWO_PWR_32_DBL_) | 0);\n  }\n};\n\n/**\n * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Timestamp} the corresponding Long value.\n */\nTimestamp.fromBits = function(lowBits, highBits) {\n  return new Timestamp(lowBits, highBits);\n};\n\n/**\n * Returns a Long representation of the given string, written using the given radix.\n *\n * @method\n * @param {String} str the textual representation of the Timestamp.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Timestamp} the corresponding Long value.\n */\nTimestamp.fromString = function(str, opt_radix) {\n  if (str.length == 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) == '-') {\n    return Timestamp.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 8));\n\n  var result = Timestamp.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Timestamp.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Timestamp.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Timestamp.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n\n/**\n * A cache of the Long representations of small integer values.\n * @type {Object}\n * @ignore\n */\nTimestamp.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_32_DBL_ = Timestamp.TWO_PWR_16_DBL_ * Timestamp.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_31_DBL_ = Timestamp.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_48_DBL_ = Timestamp.TWO_PWR_32_DBL_ * Timestamp.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_64_DBL_ = Timestamp.TWO_PWR_32_DBL_ * Timestamp.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nTimestamp.TWO_PWR_63_DBL_ = Timestamp.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Timestamp} */\nTimestamp.ZERO = Timestamp.fromInt(0);\n\n/** @type {Timestamp} */\nTimestamp.ONE = Timestamp.fromInt(1);\n\n/** @type {Timestamp} */\nTimestamp.NEG_ONE = Timestamp.fromInt(-1);\n\n/** @type {Timestamp} */\nTimestamp.MAX_VALUE =\n    Timestamp.fromBits(0xFFFFFFFF | 0, 0x7FFFFFFF | 0);\n\n/** @type {Timestamp} */\nTimestamp.MIN_VALUE = Timestamp.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Timestamp}\n * @ignore\n */\nTimestamp.TWO_PWR_24_ = Timestamp.fromInt(1 << 24);\n\nmodule.exports = Timestamp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/timestamp.js"],"sourceRoot":""}